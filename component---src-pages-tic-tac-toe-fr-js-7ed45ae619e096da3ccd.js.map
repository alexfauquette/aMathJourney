{"version":3,"sources":["webpack:///./src/pages/tic-tac-toe/fr.js","webpack:///./src/pages/tic-tac-toe/images/ends.svg","webpack:///./src/pages/tic-tac-toe/images/algo.svg","webpack:///./src/components/tic-tac-toe/explanations/history/index.js","webpack:///./src/components/tic-tac-toe/explanations/treeSearch/index.js","webpack:///./src/components/tic-tac-toe/images/human.svg","webpack:///./src/components/tic-tac-toe/atoms/Board/Board.view.js","webpack:///./src/components/tic-tac-toe/atoms/Board/index.js","webpack:///./src/components/tic-tac-toe/explanations/computerView/index.js","webpack:///./src/components/tic-tac-toe/atoms/Link/Link.view.js","webpack:///./src/components/tic-tac-toe/atoms/Link/index.js","webpack:///./src/components/tic-tac-toe/explanations/utils/game.js","webpack:///./src/components/tic-tac-toe/atoms/LinkVertical/index.js","webpack:///./src/components/tic-tac-toe/atoms/LinkVertical/Link.view.js","webpack:///./src/components/tic-tac-toe/explanations/recurrence/index.js","webpack:///./src/components/tic-tac-toe/explanations/intro/index.js","webpack:///./src/components/tic-tac-toe/images/robot.svg","webpack:///./src/components/tic-tac-toe/explanations/completTree/index.js","webpack:///./src/components/tic-tac-toe/explanations/introTree/index.js","webpack:///./src/components/tic-tac-toe/translation.js","webpack:///./src/components/tic-tac-toe/explanations/utils/index.js"],"names":["Page","location","currentLanguage","title","lang","role","aria-label","style","color","src","possibleEnds","alt","algoPicture","robot","to","module","exports","game","Game","History","props","init","initActions","state","grids","actions","playerAction","index","action","slice","push","play","setState","reset","render","translation","translate","this","viewBox","height","width","map","grid","gridIndex","Fragment","key","transform","localAction","isFinished","winner","getWinner","victory","getVictory","addedIndex","x0","y0","x1","y1","onClick","React","Component","TreeSearch","childrenActions","isSelected","tree","algoState","stateId","heightLimited","next","currentId","actionIndex","parentId","toAdd","forEach","length","newId","undefined","childId","nextChildId","explorationIsOver","currentPlayer","getPlayer","childrenWinner","includes","NULL","retracted","traduction","case0","case1","case2","case3","player","filter","x","winning","nulle","computation","case4","winningIntro","are","is","winnings","nullIntro","nulls","null","loosing","intro","className","has","possibleActions","case5","case6","toogleHeightLimited","treePositions","treeToPosition","reduce","t","Math","max","y","onKeyDown","event","tabIndex","id","parseInt","charAt","parent","SIZE","display","verticalAlign","extend","retract","Board","solution","globalAction","classes","board","pointerClickable","toLowerCase","winnerX","winnerO","winnerUnKnoned","winnerNull","winnerSelected","elements","split","floor","X","justAdded","x2","y2","O","r","min","cx","cy","solutionX","solutionO","solutionUnKnoned","solutionNull","solutionSelected","empty","clickable","col","line","winningLine","PlayableComputerView","ends","firstPlayer","showRobot","showHuman","waitingAction","robotChoice","perfectPlayer","componentDidMount","contxt","newGrid","setTimeout","getPlayerID","clearTimeout","toogleVisibility","who","addRobot","playerId","removeRobot","robotId","first_player","human","second_player","show_solution","Link","stroke","strokeWidth","fill","d","PLAYERS","EMPTY","UNKNOW","output","stateOrPlayer","step","i","indexOf","getAdversary","substring","isFull","RecurrenceExample","gridsInit","childsInit","childs","boardIndex","children","maxChildren","childWidth","maxWidth","childGrid","childIndex","nbChildren","PlayableIntro","setRobotRole","CompletTree","treeRobot","feelSolutions","optTreeRobot","reduceToOpimalTree","initialTree","timeToWin","toogleChildrens","IntroTree","currentBoar","nextBoard","newHeight","fr","en","curentPlayer","minTimeToWin","posibilities","adversary","final","newState","result","total","currentIndexList","currentActionsList","join","currentState","goingBack","parent_position","pop","treeToFeel","bestAction","minimalTimeToWin","completTree","solutions","score","random"],"mappings":"8FAAA,kMAiQeA,UA/OF,kBACX,kBAAC,IAAD,CAAQC,SAAS,eAAeC,gBAAgB,YAC9C,kBAAC,IAAD,CAAKC,MAAM,YAEX,6GAIA,iEAEA,2RAMA,mWAQA,kBAAC,IAAD,CAAeC,KAAK,OAEpB,uEAEA,wcASA,kBAAC,IAAD,CAASA,KAAK,OAEd,siBAWA,kBAAC,IAAD,CAAWA,KAAK,OAEhB,ghBAO+D,IAC7D,0BAAMC,KAAK,MAAMC,aAAW,QAA5B,MARF,KAcA,sHAIA,4BACE,4BACE,2BACE,0BAAMC,MAAO,CAAEC,MAAO,SAAtB,KADF,UAEK,IAHP,eAIc,0BAAMD,MAAO,CAAEC,MAAO,SAAtB,KAJd,mDAKmC,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KALnC,KAQA,4BACE,2BACE,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KADF,UADF,eAIc,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KAJd,mDAK4B,0BAAMD,MAAO,CAAEC,MAAO,SAAtB,MAE5B,4BACE,2BACE,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,QAFJ,0EAOF,uTAI6D,IAC3D,0BAAMH,KAAK,MAAMC,aAAW,SAA5B,MALF,qGAS2B,IACzB,0BAAMD,KAAK,MAAMC,aAAW,eAA5B,MAVF,4GAcsC,IACpC,0BAAMD,KAAK,MAAMC,aAAW,UAA5B,MAfF,KAoBA,wIAEiC,0BAAMC,MAAO,CAAEC,MAAO,SAAtB,KAFjC,IAE2E,IACzE,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KAHF,WAGkD,IAChD,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OAJF,2EAKkD,IAChD,0BAAMH,KAAK,MAAMC,aAAW,SAA5B,OAKF,kBAAC,IAAD,CAAcF,KAAK,OAEnB,0EACA,gGACqE,IACnE,0BAAMG,MAAO,CAAEC,MAAO,SAAtB,KAFF,aAEqD,IACnD,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KAHF,mDAIgB,0BAAMD,MAAO,CAAEC,MAAO,SAAtB,KAJhB,OAI6D,IAC3D,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KALF,qFAMiD,IAC/C,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OAPF,mEAWA,yBACEC,IAAKC,IACLC,IAAI,mDAGN,4UAOA,kbAQA,yFAC8D,IAC5D,0BAAMJ,MAAO,CAAEC,MAAO,SAAtB,KAFF,wIAI0B,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OAJ1B,kCAK6B,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KAL7B,2BAMkB,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OANlB,uCAO8B,0BAAMD,MAAO,CAAEC,MAAO,SAAtB,KAP9B,4CAQuC,IACrC,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KATF,mDAUgB,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KAVhB,KAaA,kBAAC,IAAD,CAAmBJ,KAAK,OAExB,6aAMqD,IACnD,0BAAMG,MAAO,CAAEC,MAAO,SAAtB,KAPF,IAO4C,IAC1C,0BAAMD,MAAO,CAAEC,MAAO,QAAtB,KARF,MAQ6C,IAC3C,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OATF,oKAcA,yBAAKC,IAAKG,IAAaD,IAAI,4BAE3B,osBAYA,gHAIA,kBAAC,IAAD,CAAYP,KAAK,OAEjB,sDACA,+HAEyB,0BAAMG,MAAO,CAAEC,MAAO,WAAtB,OAFzB,uNAKqE,IACnE,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OANF,uOAWA,oVAKiB,0BAAMD,MAAO,CAAEC,MAAO,WAAtB,OALjB,KAOA,oFAEA,kBAAC,IAAD,CAAaK,MAAO,EAAGT,KAAK,OAE5B,wLAGa,IACX,kBAAC,OAAD,CAAMU,GAAI,sCAAV,kB,qBC5PNC,EAAOC,QAAU,07W,uBCAjBD,EAAOC,QAAU,IAA0B,oD,6GCO3C,IAAMC,EAAO,IAAIC,IAEXC,E,oBACJ,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKC,KAAO,CAAC,YAAa,YAAa,aACvC,EAAKC,YAAc,CAAC,EAAG,GACvB,EAAKC,MAAQ,CACXC,MAAO,EAAKH,KACZI,QAAS,EAAKH,aANC,E,kHAUnBI,aAAA,SAAaC,GAAQ,IAAD,OAClB,OAAO,SAAAC,GAAM,OAAI,WACf,IAAIJ,EAAQ,EAAKD,MAAMC,MAAMK,MAAM,EAAGF,EAAQ,GAC1CF,EAAU,EAAKF,MAAME,QAAQI,MAAM,EAAGF,GAE1CH,EAAMM,KAAKb,EAAKc,KAAK,EAAKR,MAAMC,MAAMG,GAAQC,IAC9CH,EAAQK,KAAKF,GACb,EAAKI,SAAS,CAAER,QAAOC,e,EAI3BQ,MAAA,WAAS,IAAD,OACN,OAAO,WACL,EAAKD,SAAS,CACZR,MAAO,EAAKH,KACZI,QAAS,EAAKH,gB,EAKpBY,OAAA,WAAU,IAAD,OACDC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MAEjD,OACE,oCACE,yBAAKkC,QAAQ,eAAe/B,MAAO,CAAEgC,OAAQ,QAASC,MAAO,SAC1DH,KAAKd,MAAMC,MAAMiB,KAAI,SAACC,EAAMC,GAAP,OACpB,kBAAC,IAAMC,SAAP,CAAgBC,IAAKF,GACnB,kBAAC,IAAD,CACEH,MAAO,GACPD,OAAQ,GACRhB,MAAOmB,EACPI,UAAS,aAA2B,IAAZH,EAAf,OACTI,aACG9B,EAAK+B,WAAWN,IAAS,EAAKhB,aAAaiB,GAE9CM,OAAQhC,EAAKiC,UAAUR,GACvBS,QAASlC,EAAKmC,WAAWV,GACzBW,WAAYV,EAAY,GAAK,EAAKpB,MAAME,QAAQkB,EAAY,KAE7DA,EAAY,GACX,kBAAC,IAAD,CACEW,GAAgB,IAAZX,EAAkB,EACtBY,GAAI,KACJC,GAAsB,KAAjBb,EAAY,GAAW,GAAK,EACjCc,GAAI,YAMd,4BAAQC,QAASrB,KAAKJ,SAAUE,EAAYF,S,GA9D9B0B,IAAMC,WAmEbzC,O,uJCpEf,IAAMF,EAAO,IAAIC,IAEX2C,E,oBACJ,WAAYzC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKC,KAAO,CACV,GAAI,CAAEqB,KAAM,YAAaoB,gBAAiB,GAAIC,YAAY,IAE5D,EAAKxC,MAAQ,CACXyC,KAAM,EAAK3C,KACXkB,OAAQ,EACR0B,UAAW,EACXC,QAAS,GACTC,eAAe,GAVA,E,kHAcnBC,KAAA,WAAQ,IAAD,OACL,OAAO,WAAO,IAAD,QACPC,EACA5C,EACA6C,EACAC,EAEJ,OAAQ,EAAKhD,MAAM0C,WACjB,KAAK,EACH,IAAMvB,EAAO,EAAKnB,MAAMyC,KAAK,EAAKzC,MAAM2C,SAASxB,KAEjD,GADA2B,EAAY,EAAK9C,MAAM2C,QACnBjD,EAAK+B,WAAWN,GAAO,CAAC,IAAD,EACnBO,EAAShC,EAAKiC,UAAUR,GAE9B,EAAKV,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAGG,EAAK9C,MAAMyC,KAAKK,GAHnB,CAIAN,YAAY,EACZd,OAAQA,IALR,IAQJgB,UAXoB,SAajB,CAAC,IAAD,EACCxC,EAAUR,EAAKQ,QAAQiB,GACvB8B,EAAQ,GACd/C,EAAQgD,SAAQ,SAAA7C,GACd4C,EAAMH,EAAYzC,GAAU,CAC1Bc,KAAMzB,EAAKc,KAAKW,EAAMd,GACtBkC,gBAAiB,OAIrB,EAAK9B,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAGG,EAAK9C,MAAMyC,KAAKK,GAHnB,CAIAP,gBAAiBrC,IAJjB,GAMC+C,GAELP,UAAW,EACX1B,OAAQ,EAAKhB,MAAMgB,QAAUd,EAAQiD,OAAS,MAGlD,MACF,KAAK,EAIH,IAAIC,EACJ,IAJAN,EAAY,EAAK9C,MAAM2C,QACvBzC,EAAU,EAAKF,MAAMyC,KAAKK,GAAWP,gBACrCQ,EAAc,EAEPA,EAAc7C,EAAQiD,QAC3BC,EAAQN,EAAY5C,EAAQ6C,QACUM,IAAlC,EAAKrD,MAAMyC,KAAKW,GAAO1B,SACzBqB,EAAc7C,EAAQiD,QAExBJ,IAGF,EAAKtC,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAEgB,EAAK9C,MAAMyC,KAAKK,GAFhC,CAE4CN,YAAY,IAFxD,EAGDY,GAHC,iBAGY,EAAKpD,MAAMyC,KAAKW,GAH5B,CAGoCZ,YAAY,IAHhD,IAKJE,UAAW,EACXC,QAASS,KAGX,MAEF,KAAK,EAEH,GAAkB,MADlBN,EAAY,EAAK9C,MAAM2C,SACD,CAAC,IAAD,EAEpB,EAAKlC,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAGG,EAAK9C,MAAMyC,KAAKK,GAHnB,CAIAN,YAAY,IAJZ,IAOJE,UAAW,KAEb,MAKF,IAAIY,EAHJN,EAAWF,EAAUxC,MAAM,GAAI,GAC/BJ,EAAU,EAAKF,MAAMyC,KAAKO,GAAUT,gBACpCQ,EAAc,EAId,IAFA,IACIQ,EAWmB,EAchB,EA1BHC,GAAoB,EAEjBT,EAAc7C,EAAQiD,QAC3BG,EAAUN,EAAW9C,EAAQ6C,QACWM,IAApC,EAAKrD,MAAMyC,KAAKa,GAAS5B,SAC3B8B,GAAoB,EACpBD,EAAcD,EACdP,EAAc7C,EAAQiD,QAExBJ,IAGF,GAAIS,EACF,EAAK/C,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAGG,EAAK9C,MAAMyC,KAAKK,GAHnB,CAIAN,YAAY,IAJZ,EAMDQ,GANC,iBAMe,EAAKhD,MAAMyC,KAAKO,GAN/B,CAM0CR,YAAY,IANtD,IAQJE,UAAW,EACXC,QAASK,UAGX,EAAKvC,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAGG,EAAK9C,MAAMyC,KAAKK,GAHnB,CAIAN,YAAY,IAJZ,EAMDQ,GANC,iBAMe,EAAKhD,MAAMyC,KAAKO,GAN/B,CAM0CR,YAAY,IANtD,IAQJE,UAAW,EACXC,QAASY,KAIb,MAEF,KAAK,EACHT,EAAY,EAAK9C,MAAM2C,QACvB,IAAIc,EAAgB/D,EAAKgE,UAAU,EAAK1D,MAAMyC,KAAKK,GAAW3B,MAC1DwC,EAAiB,EAAK3D,MAAMyC,KAAKK,GAAWP,gBAAgBrB,KAC9D,SAAAb,GAAM,OAAI,EAAKL,MAAMyC,KAAKK,EAAYzC,GAAQqB,UAG1CA,EAASiC,EAAeC,SAASH,GACnCA,EACAE,EAAeC,SAASlE,EAAKmE,MAC7BnE,EAAKmE,KACLF,EAAe,GAEnB,EAAKlD,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAEgB,EAAK9C,MAAMyC,KAAKK,GAFhC,CAE4CpB,OAAQA,IAFpD,IAIJgB,UAAW,EACXiB,eAAgBA,KAElB,MAEF,KAAK,EACHb,EAAY,EAAK9C,MAAM2C,QACvB,EAAKlC,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAEgB,EAAK9C,MAAMyC,KAAKK,GAFhC,CAE4CgB,WAAW,IAFvD,IAIJpB,UAAW,EACX1B,OACE,EAAKhB,MAAMgB,OACX,EAAKhB,MAAMyC,KAAKK,GAAWP,gBAAgBY,OAC3C,KAEJ,MAEF,KAAK,EAEHH,GADAF,EAAY,EAAK9C,MAAM2C,SACFrC,MAAM,GAAI,GAC/B,EAAKG,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAEDK,GAFC,iBAEgB,EAAK9C,MAAMyC,KAAKK,GAFhC,CAE4CN,YAAY,IAFxD,EAGDQ,GAHC,iBAGe,EAAKhD,MAAMyC,KAAKO,GAH/B,CAG0CR,YAAY,IAHtD,IAKJE,UAAW,Q,EAOrBqB,WAAA,SAAWnD,GACT,OAAQE,KAAKd,MAAM0C,WACjB,KAAK,EACH,OAAO9B,EAAYoD,MACrB,KAAK,EACH,OAAOpD,EAAYqD,MAErB,KAAK,EACH,OAAOrD,EAAYsD,MAErB,KAAK,EACH,OAAOtD,EAAYuD,MAErB,KAAK,EACH,IAAMC,EAAS1E,EAAKgE,UAAU5C,KAAKd,MAAMyC,KAAK3B,KAAKd,MAAM2C,SAASxB,MAE5DwC,EAAiB7C,KAAKd,MAAM2D,eAHpC,EAIyB,CACrBA,EAAeU,QAAO,SAAAC,GAAC,OAAIA,IAAMF,KAAQjB,OAEzCQ,EAAeU,QAAO,SAAAC,GAAC,OAAIA,IAAM5E,EAAKmE,QAAMV,QAHzCoB,EAJP,KAIgBC,EAJhB,KASQC,EACJF,EAAU,EACH3D,EAAY8D,MAAMC,aADzB,KAEMJ,EAAU,EAAI3D,EAAYgE,IAAMhE,EAAYiE,IAFlD,IAGQN,EAHR,KAIMA,EAAU,EACN3D,EAAY8D,MAAMI,SAClBlE,EAAY8D,MAAMH,SAExBC,EAAQ,EACL5D,EAAY8D,MAAMK,UADrB,IACkCP,EADlC,KAEEA,EAAQ,EAAI5D,EAAYgE,IAAMhE,EAAYiE,IAF5C,KAGIL,EAAQ,EAAI5D,EAAY8D,MAAMM,MAAQpE,EAAY8D,MAAMO,MAC5DrE,EAAY8D,MAAMQ,QACxB,OACE,oCACE,2BACGtE,EAAY8D,MAAMS,MACnB,0BAAMC,UAAW,UAAYhB,GAASA,GAAe,IACjDxD,EAAYyE,IAHlB,IAIG1B,EAAeR,OAJlB,IAI2BvC,EAAY8D,MAAMY,iBAE7C,2BAAIb,IAIV,KAAK,EACH,OAAO7D,EAAY2E,MAErB,KAAK,EACH,OAAO3E,EAAY4E,Q,EAOzBC,oBAAA,WAAuB,IAAD,OACpB,OAAO,WACL,EAAKhF,SAAL,iBACK,EAAKT,MADV,CAEE4C,eAAgB,EAAK5C,MAAM4C,mB,EAIjCjC,OAAA,WAAU,IAAD,OACDC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MAG3C6G,EAAgBC,YAAe7E,KAAKd,MAAMyC,MAC1CzB,EAAS0E,EAAcE,QAAO,SAACC,EAAGvB,GAAJ,OAAUwB,KAAKC,IAAIF,EAAGvB,EAAE0B,KAAI,GAChE,OACE,yBACEC,UAAW,SAAAC,GACS,eAAdA,EAAM5E,KACR,EAAKuB,MAAL,IAGJsD,SAAS,KAET,4BAAQhE,QAASrB,KAAK+B,QAASjC,EAAYiC,MAE3C,yBACEuC,WACEtE,KAAKd,MAAM4C,cAAgB,eAAiB,eADrC,eAIT,yBACE7B,QAAO,YAAc,KAAOC,EAAS,GACrChC,MAAO,CAAEiC,MAAO,SAEfyE,EAAcxE,KAAI,SAAAC,GAAI,OACrB,kBAAC,IAAME,SAAP,CAAgBC,IAAKH,EAAKiF,IACxB,kBAAC,IAAD,CACEnF,MA1BD,GA2BCD,OA3BD,GA4BChB,MAAOmB,EAAKA,KACZI,UAAS,cAAe,GAAc,IAATJ,EAAKmD,GAAzB,KAAoC,GAClC,IAATnD,EAAK6E,GADE,IAETtE,OAAQP,EAAKqB,WAAa,WAAarB,EAAKO,OAC5CE,QAASlC,EAAKmC,WAAWV,EAAKA,MAC9BW,WACEX,EAAKiF,IAAMC,SAASlF,EAAKiF,GAAGE,OAAOnF,EAAKiF,GAAGjD,OAAS,MAGvDhC,EAAKoF,QACJ,kBAAC,IAAD,CACExE,GAAI,GAAsB,IAAjBZ,EAAKoF,OAAO,GAvCxB,GAwCGvE,GAAI,GAAsB,IAAjBb,EAAKoF,OAAO,GAAWC,KAChCvE,GAAI,GAAc,IAATd,EAAKmD,EACdpC,GAAI,GAAc,IAATf,EAAK6E,EAAUQ,aAOpC,yBACExH,MAAO,CACLiC,MAAO,MACPwF,QAAS,eACTC,cAAe,OAEjBtB,UAAU,eAEV,2BACGtE,KAAKiD,WAAWnD,GADnB,IACiC,0BAAMwE,UAAU,UAAhB,OAGlC,KAAOpE,EAAS,GAAK,KACpB,4BACEmB,QAASrB,KAAK2E,sBACdL,UAAU,iBAETtE,KAAKd,MAAM4C,cACRhC,EAAY+F,OACZ/F,EAAYgG,W,GAhWHxE,IAAMC,WAuWhBC,O,mBCjXf9C,EAAOC,QAAU,k1J,0FCoIFoH,EAjID,SAAC,GAAD,IACZ5F,EADY,EACZA,MACAD,EAFY,EAEZA,OACAhB,EAHY,EAGZA,MACA0B,EAJY,EAIZA,OACAoF,EALY,EAKZA,SACAvF,EANY,EAMZA,UACAC,EAPY,EAOZA,YACAuF,EARY,EAQZA,aACAnF,EATY,EASZA,QACAE,EAVY,EAUZA,WAVY,OAYZ,uBACEsD,UAAc4B,IAAQC,MAAb,IAAsBD,IAAQtF,OAA9B,KACPqF,EAAeC,IAAQE,iBAAmB,IAE5C3F,UAAWA,EACXY,QAAS4E,EAAeA,SAAiB1D,GAEzC,0BACEiB,EAAG,EACH0B,EAAG,EACH/E,MAAOA,EACPD,OAAQA,EACRoE,UAAS,IACP1D,EAC6B,MAAzBA,EAAOyF,cACLH,IAAQI,QACiB,MAAzB1F,EAAOyF,cACPH,IAAQK,QACiB,MAAzB3F,EAAOyF,cACPH,IAAQM,eACiB,MAAzB5F,EAAOyF,cACPH,IAAQO,WACiB,MAAzB7F,EAAOyF,cACPH,IAAQQ,eACR,GACF,MAKR,uBAAGpC,UAAW4B,IAAQS,UACnBzH,EAAM0H,MAAM,IAAIxG,KAAI,SAACkD,EAAQhE,GAC5B,IAAIkE,EAAIrD,EAAQ,EAAK6E,KAAK6B,MAAMvH,EAAQ,GAAKa,EAAS,EAClD+E,EAAIhF,EAAS,EAAK8E,KAAK6B,MAAMvH,EAAQ,GAAKY,EAAU,EAExD,OAAQoD,GACN,IAAK,IACH,OACE,uBACE9C,IAAKlB,EACLgF,UAAc4B,IAAQY,EAAb,KACP9F,IAAe1B,EAAQ4G,IAAQa,UAAY,KAG7C,0BACE5F,GAAIqC,EAAa,GAARrD,EAAe,EACxBiB,GAAI8D,EAAc,GAAThF,EAAgB,EACzB8G,GAAIxD,EAAa,GAARrD,EAAe,EACxB8G,GAAI/B,EAAc,GAAThF,EAAgB,IAE3B,0BACEiB,GAAIqC,EAAa,GAARrD,EAAe,EACxBiB,GAAI8D,EAAc,GAAThF,EAAgB,EACzB8G,GAAIxD,EAAa,GAARrD,EAAe,EACxB8G,GAAI/B,EAAc,GAAThF,EAAgB,KAIjC,IAAK,IACH,OACE,uBACEM,IAAKlB,EACLgF,UAAc4B,IAAQgB,EAAb,KACPlG,IAAe1B,EAAQ4G,IAAQa,UAAY,KAG7C,4BAAQI,EAA8B,GAA1BnC,KAAKoC,IAAIjH,EAAOD,GAAiB,EAAGmH,GAAI7D,EAAG8D,GAAIpC,KAIjE,QACE,OACE,0BACE1E,IAAKlB,EACLkE,EAAGA,EAAa,GAARrD,EAAe,EACvB+E,EAAGA,EAAc,GAAThF,EAAgB,EACxBC,MAAgB,GAARA,EAAe,EACvBD,OAAkB,GAATA,EAAgB,EACzBoE,WAAc0B,IACS,MAApBA,EAAS1G,GACN4G,IAAQqB,UACY,MAApBvB,EAAS1G,GACT4G,IAAQsB,UACY,MAApBxB,EAAS1G,GACT4G,IAAQuB,iBACY,MAApBzB,EAAS1G,GACT4G,IAAQwB,aACY,MAApB1B,EAAS1G,GACT4G,IAAQyB,iBACRzB,IAAQ0B,QAXL,MAYN5B,GAAYtF,EAAcwF,IAAQ2B,UAAY,IAZxC,IAcTxG,QAASX,EAAcA,EAAYpB,QAASiD,SAMxD,uBAAG+B,UAAW4B,IAAQ7F,MACpB,0BAAMc,GAAa,EAARhB,EAAa,EAAGiB,GAAG,IAAI4F,GAAa,EAAR7G,EAAa,EAAG8G,GAAI/G,IAC3D,0BAAMiB,GAAa,EAARhB,EAAa,EAAGiB,GAAG,IAAI4F,GAAa,EAAR7G,EAAa,EAAG8G,GAAI/G,IAE3D,0BAAMiB,GAAG,IAAIC,GAAc,EAATlB,EAAc,EAAG8G,GAAI7G,EAAO8G,GAAc,EAAT/G,EAAc,IACjE,0BAAMiB,GAAG,IAAIC,GAAc,EAATlB,EAAc,EAAG8G,GAAI7G,EAAO8G,GAAc,EAAT/G,EAAc,KAElEY,GAA8B,IAAnBA,EAAQuB,QAClB,0BACElB,GAAIhB,EAAQ,EAAKA,EAAQW,EAAQ,GAAGgH,IAAO,EAC3C1G,GAAIlB,EAAS,EAAKA,EAASY,EAAQ,GAAGiH,KAAQ,EAC9Cf,GAAI7G,EAAQ,EAAKA,EAAQW,EAAQ,GAAGgH,IAAO,EAC3Cb,GAAI/G,EAAS,EAAKA,EAASY,EAAQ,GAAGiH,KAAQ,EAC9CzD,UAAW4B,IAAQ8B,gBC5HZjC,O,okBCUf,IAAMnH,EAAO,IAAIC,IAGXoJ,E,oBACJ,WAAYlJ,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKG,MAAQ,CACXmB,KAAM,YACN2F,SAAUrE,IAAK,aAAauG,KAC5BvF,cAAe,EACfnE,MAAO,CAAC,GACR2J,YAAa,EACbC,WAAW,EACXC,WAAW,GAEb,EAAKR,WAAY,EAEjB,EAAKS,cAAgB,KAErB,EAAKC,YAAc,EAAKxJ,MAAMwJ,YAC1B,EAAKxJ,MAAMwJ,YACXC,IAjBa,E,kHAoBnBC,kBAAA,WACEzI,KAAKN,KAAKM,O,EAGZN,KAAA,SAAKgJ,GACH,IAAInJ,EACAoJ,EAEFD,EAAOxJ,MAAMV,MAAMsE,SAAS4F,EAAOxJ,MAAMyD,iBACxC/D,EAAK+B,WAAW+H,EAAOxJ,MAAMmB,OAE9Bd,EAASmJ,EAAOH,YAAYG,EAAOxJ,MAAMmB,MACzCsI,EAAU/J,EAAKc,KAAKgJ,EAAOxJ,MAAMmB,KAAMd,GACvCmJ,EAAOJ,cAAgBM,YAAW,WAChCF,EAAO/I,SACL,CACEqG,SAAUrE,IAAKgH,GAAST,KACxB7H,KAAMsI,EACNhG,cAAe/D,EAAKiK,YAAYF,KAElC,WACED,EAAOhJ,KAAKgJ,QA5CV,MAiDR1I,KAAK6H,WAAY,G,EAGrBxI,aAAA,WAAgB,IAAD,OACb,OACGT,EAAK+B,WAAWX,KAAKd,MAAMmB,OAC3BL,KAAKd,MAAMV,MAAMsE,SAAS9C,KAAKd,MAAMyD,eAsB/B,KApBA,SAAApD,GACL,OAAO,EAAKL,MAAMV,MAAMsE,SAAS,EAAK5D,MAAMyD,eACxC,kBAAM,MACN,WACE,GAAI,EAAKkF,UAAW,CAClB,IAAMc,EAAU/J,EAAKc,KAAK,EAAKR,MAAMmB,KAAMd,GAC3C,EAAKI,SACH,CACEqG,SAAUrE,IAAKgH,GAAST,KACxB7H,KAAMsI,EACNhG,cAAe/D,EAAKiK,YAAYF,KAElC,WACE,EAAKjJ,KAAK,U,EAW5BE,MAAA,WAAS,IAAD,OACN,OAAO,WACLkJ,aAAa,EAAKR,eAClB,EAAK3I,SACH,CACEqG,SAAUrE,IAAK,aAAauG,KAC5B7H,KAAM,YACNsC,cAAe,IAEjB,WACE,EAAK2F,cAAgBM,YAAW,WAC9B,EAAKlJ,KAAK,KA5FR,U,EAmGZqJ,iBAAA,SAAiBC,GAAM,IAAD,OACpB,OAAO,WAEL,OAAQA,GACN,IAAK,QACH,EAAKrJ,SAAS,CAAEyI,WAAY,EAAKlJ,MAAMkJ,YACvC,MACF,IAAK,QACH,EAAKzI,SAAS,CAAE0I,WAAY,EAAKnJ,MAAMmJ,e,EAM/CY,SAAA,SAASC,GAAW,IAAD,OACjB,OAAO,WACA,EAAKhK,MAAMV,MAAMsE,SAASoG,KAC7BJ,aAAa,EAAKR,eAClB,EAAK3I,SACH,CACEqG,SAAUrE,IAAK,aAAauG,KAC5B7H,KAAM,YACNsC,cAAe,EACfnE,MAAM,GAAD,SAAM,EAAKU,MAAMV,OAAjB,CAAwB0K,MAE/B,WACE,EAAKZ,cAAgBM,YAAW,WAC9B,EAAKlJ,KAAK,KA9HV,W,EAqIZyJ,YAAA,SAAYD,GAAW,IAAD,OACpB,OAAO,WACD,EAAKhK,MAAMV,MAAMsE,SAASoG,KAC5BJ,aAAa,EAAKR,eAClB,EAAK3I,SACH,CACEqG,SAAUrE,IAAK,aAAauG,KAC5B7H,KAAM,YACNsC,cAAe,EACfnE,MAAO,EAAKU,MAAMV,MAAM+E,QAAO,SAAA6F,GAAO,OAAIA,IAAYF,OAExD,WACE,EAAKZ,cAAgBM,YAAW,WAC9B,EAAKlJ,KAAK,KAlJV,W,EA0JZG,OAAA,WACE,IAAMC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MACjD,OACE,6BACE,yBAAKkC,QAAQ,cAAc/B,MAAO,CAAEgC,OAAQ,QAASC,MAAO,UAC1D,kBAAC,IAAD,CACEA,MAAO,IACPD,OAAQ,IACRhB,MAAOc,KAAKd,MAAMmB,KAClBI,UAAU,iBACVC,YAAaV,KAAKX,eAClBuB,OAAQhC,EAAKiC,UAAUb,KAAKd,MAAMmB,MAClC2F,UACIhG,KAAKd,MAAMkJ,WACXpI,KAAKd,MAAMV,MAAMsE,SAAS9C,KAAKd,MAAMyD,gBACpC3C,KAAKd,MAAMmJ,YACTrI,KAAKd,MAAMV,MAAMsE,SAAS9C,KAAKd,MAAMyD,iBAC1C3C,KAAKd,MAAM8G,SAEblF,QAASlC,EAAKmC,WAAWf,KAAKd,MAAMmB,SAGxC,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,wBACb,2BAAIxE,EAAYuJ,cAChB,yBACE/E,UAAS,gBACPtE,KAAKd,MAAMV,MAAMsE,SAAS,GAAK,WAAa,cAE9CzB,QAASrB,KAAKiJ,SAAS,IAEvB,yBAAK7K,IAAKI,IAAOF,IAAI,gBAEvB,yBACEgG,UAAS,iBACNtE,KAAKd,MAAMV,MAAMsE,SAAS,GAAkB,aAAb,YAElCzB,QAASrB,KAAKmJ,YAAY,IAE1B,yBAAK/K,IAAKkL,IAAOhL,IAAI,iBAIzB,yBAAKgG,UAAU,wBACb,2BAAIxE,EAAYyJ,eAChB,yBACEjF,UAAS,gBACPtE,KAAKd,MAAMV,MAAMsE,SAAS,GAAK,WAAa,cAE9CzB,QAASrB,KAAKiJ,SAAS,IAEvB,yBAAK7K,IAAKI,IAAOF,IAAI,gBAEvB,yBACEgG,UAAS,iBACNtE,KAAKd,MAAMV,MAAMsE,SAAS,GAAkB,aAAb,YAElCzB,QAASrB,KAAKmJ,YAAY,IAE1B,yBAAK/K,IAAKkL,IAAOhL,IAAI,iBAIzB,yBAAKgG,UAAU,wBACb,2BAAIxE,EAAY0J,eAChB,yBACElF,UAAS,gBACPtE,KAAKd,MAAMkJ,UACP,+BACA,cAEN/G,QAASrB,KAAK+I,iBAAiB,UAE/B,yBAAK3K,IAAKI,IAAOF,IAAI,gBAEvB,yBACEgG,UAAS,iBACPtE,KAAKd,MAAMmJ,UACP,+BACA,cAENhH,QAASrB,KAAK+I,iBAAiB,UAE/B,yBAAK3K,IAAKkL,IAAOhL,IAAI,iBAIzB,yBAAKgG,UAAU,wBACb,4BAAQjD,QAASrB,KAAKJ,SAAUE,EAAYF,W,GAhPrB0B,IAAMC,WAuP1B0G,O,2DCzPAwB,EAXF,SAAC,GAAD,IAAGxI,EAAH,EAAGA,GAAIC,EAAP,EAAOA,GAAIC,EAAX,EAAWA,GAAIC,EAAf,EAAeA,GAAf,OACX,0BACElD,MAAO,CACLwL,OAAQ,kBACRC,YAAa,EACbC,KAAM,QAERC,EAAC,IAAM5I,EAAN,IAAYC,EAAZ,MAAoBC,EAAKF,GAAM,EAA/B,KAAqCG,EAArC,KAA4CD,KCPlCsI,O,wECFM5K,E,6BACnBiL,QAAU,CAAC,IAAK,K,KAChB/G,KAAO,I,KACPgH,MAAQ,I,KACRC,OAAS,I,2BAET5K,QAAA,SAAQF,GAEN,IADA,IAAI+K,EAAS,GACJ3K,EAAQ,EAAGA,EAAQ,EAAGA,IACR,MAAjBJ,EAAMI,IACR2K,EAAOxK,KAAKH,GAGhB,OAAO2K,G,EAGTpB,YAAA,SAAYqB,GACV,GAA6B,IAAzBA,EAAc7H,OAAc,CAE9B,IADA,IAAI8H,EAAO,EACFC,EAAI,EAAGA,EAAI,EAAGA,IACI,MAArBF,EAAcE,IAChBD,IAGJ,OAAOA,EAAO,EAEX,OAA4B,IAAzBD,EAAc7H,OACXrC,KAAK8J,QAAQO,QAAQH,GAGrB,M,EAIbtH,UAAA,SAAU1D,GACR,OAAOc,KAAK8J,QAAQ9J,KAAK6I,YAAY3J,K,EAGvCoL,aAAA,SAAahH,GACX,OAAIA,IAAWtD,KAAK8J,QAAQ,GACnB9J,KAAK8J,QAAQ,GAElBxG,IAAWtD,KAAK8J,QAAQ,GACnB9J,KAAK8J,QAAQ,QADtB,G,EAMFpK,KAAA,SAAKR,EAAOK,GACV,IAAI+D,EAAStD,KAAK4C,UAAU1D,GAG5B,OADEA,EAAMqL,UAAU,EAAGhL,GAAU+D,EAASpE,EAAMqL,UAAUhL,EAAS,I,EAInEiL,OAAA,SAAOtL,GACL,IAAK,IAAIkL,EAAI,EAAGA,EAAI,EAAGA,IACrB,GAAiB,MAAblL,EAAMkL,GACR,OAAO,EAGX,OAAO,G,EAGTzJ,WAAA,SAAWzB,GACT,IAAK,IAAIkL,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GACElL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,EAAI,IAC/BlL,EAAM,EAAIkL,EAAI,KAAOlL,EAAM,EAAIkL,EAAI,IACnClL,EAAM,EAAIkL,KAAOpK,KAAK+J,MAEtB,OAAO,EAET,GACE7K,EAAMkL,KAAOlL,EAAM,EAAIkL,IACvBlL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,IAC3BlL,EAAMkL,KAAOpK,KAAK+J,MAElB,OAAO,EAGX,OACE7K,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,QAKlB7K,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,OAIb/J,KAAKwK,OAAOtL,K,EAGrB2B,UAAA,SAAU3B,GACR,IAAK,IAAIkL,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GACElL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,EAAI,IAC/BlL,EAAM,EAAIkL,EAAI,KAAOlL,EAAM,EAAIkL,EAAI,IACnClL,EAAM,EAAIkL,KAAOpK,KAAK+J,MAEtB,OAAO7K,EAAM,EAAIkL,GAEnB,GACElL,EAAMkL,KAAOlL,EAAM,EAAIkL,IACvBlL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,IAC3BlL,EAAMkL,KAAOpK,KAAK+J,MAElB,OAAO7K,EAAMkL,GAGjB,OACElL,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,MAEX7K,EAAM,GAGbA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,MAEX7K,EAAM,GAEXc,KAAKwK,OAAOtL,GACPc,KAAK+C,KAEP/C,KAAKgK,Q,EAGdjJ,WAAA,SAAW7B,GACT,IAAK,IAAIkL,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GACElL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,EAAI,IAC/BlL,EAAM,EAAIkL,EAAI,KAAOlL,EAAM,EAAIkL,EAAI,IACnClL,EAAM,EAAIkL,KAAOpK,KAAK+J,MAEtB,MAAO,CAAC,CAACjC,IAAK,EAAGC,KAAKqC,GAAG,CAACtC,IAAK,EAAGC,KAAKqC,IAEzC,GACElL,EAAMkL,KAAOlL,EAAM,EAAIkL,IACvBlL,EAAM,EAAIkL,KAAOlL,EAAM,EAAIkL,IAC3BlL,EAAMkL,KAAOpK,KAAK+J,MAElB,MAAO,CAAC,CAACjC,IAAKsC,EAAGrC,KAAK,GAAG,CAACD,IAAKsC,EAAGrC,KAAK,IAG3C,OACE7I,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,MAEX,CAAC,CAACjC,IAAK,EAAGC,KAAK,GAAG,CAACD,IAAK,EAAGC,KAAK,IAGvC7I,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOc,KAAK+J,MAEX,CAAC,CAACjC,IAAK,EAAGC,KAAK,GAAG,CAACD,IAAK,EAAGC,KAAK,IAElC,I,iKCpKI0B,ECAF,SAAC,GAAD,IAAGxI,EAAH,EAAGA,GAAIC,EAAP,EAAOA,GAAIC,EAAX,EAAWA,GAAIC,EAAf,EAAeA,GAAf,OACX,0BACElD,MAAO,CACLwL,OAAQ,kBACRC,YAAa,EACbC,KAAM,QAERC,EAAC,IAAM5I,EAAN,IAAYC,EAAZ,MAAoBE,EAAKF,GAAM,EAA/B,KAAqCC,EAArC,KAA4CC,K,6WCDjD,IAAMxC,EAAO,IAAIC,IAEX4L,E,oBACJ,WAAY1L,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACK2L,UAAY,CAAC,YAAa,YAAa,aAC5C,EAAKC,WAAa,EAAKD,UAAUtK,KAAI,SAAAlB,GAAK,OACxCN,EAAKQ,QAAQF,GAAOkB,KAAI,SAAAb,GAAM,OAAIX,EAAKc,KAAKR,EAAOK,SAGrD,EAAKL,MAAQ,CACXC,MAAO,EAAKuL,UACZE,OAAQ,EAAKD,YATE,E,kHAanBtL,aAAA,SAAawL,EAAYlC,GAAU,IAAD,OAChC,GAAIA,EAAS,CACX,IAAMmC,EAAWlM,EAAK+B,WAAWgI,GAC7B,GACA/J,EAAKQ,QAAQuJ,GAASvI,KAAI,SAAAb,GAAM,OAAIX,EAAKc,KAAKiJ,EAASpJ,MAC3D,OAAO,kBAAM,WACX,EAAKI,SAAS,CACZR,MAAM,GAAD,SACA,EAAKD,MAAMC,MAAMK,MAAM,EAAGqL,IAD1B,CAEHlC,GAFG,EAGA,EAAKzJ,MAAMC,MAAMK,MAAMqL,EAAa,KAEzCD,OAAO,GAAD,SACD,EAAK1L,MAAM0L,OAAOpL,MAAM,EAAGqL,IAD1B,CAEJC,GAFI,EAGD,EAAK5L,MAAM0L,OAAOpL,MAAMqL,EAAa,SAK9C,OAAO,SAAAtL,GAAM,OAAI,WACf,IAAMoJ,EAAU/J,EAAKc,KAAK,EAAKR,MAAMC,MAAM0L,GAAatL,GAClDuL,EAAWlM,EAAK+B,WAAWgI,GAC7B,GACA/J,EAAKQ,QAAQuJ,GAASvI,KAAI,SAAAb,GAAM,OAAIX,EAAKc,KAAKiJ,EAASpJ,MAC3D,EAAKI,SAAS,CACZR,MAAM,GAAD,SACA,EAAKD,MAAMC,MAAMK,MAAM,EAAGqL,IAD1B,CAEHlC,GAFG,EAGA,EAAKzJ,MAAMC,MAAMK,MAAMqL,EAAa,KAEzCD,OAAO,GAAD,SACD,EAAK1L,MAAM0L,OAAOpL,MAAM,EAAGqL,IAD1B,CAEJC,GAFI,EAGD,EAAK5L,MAAM0L,OAAOpL,MAAMqL,EAAa,U,EAOlDjL,MAAA,WAAS,IAAD,OACN,OAAO,WACL,EAAKD,SAAS,CACZR,MAAO,EAAKuL,UACZE,OAAQ,EAAKD,e,EAKnB9K,OAAA,WAAU,IAAD,OACDkL,EAAc/F,KAAKC,IACvBD,KAAKC,IAAIjF,KAAKd,MAAM0L,OAAO,GAAGvI,OAAQrC,KAAKd,MAAM0L,OAAO,GAAGvI,QAC3DrC,KAAKd,MAAM0L,OAAO,GAAGvI,QAKjB2I,EAAahG,KAAKoC,IADP,IAFE,IACe,GAEoB2D,EAAc,IAE9DjL,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MAEjD,OACE,oCACE,yBAAKkC,QAAO,eAA2B/B,MAAO,CAAEiC,MAAO,SACpDH,KAAKd,MAAMC,MAAMiB,KAAI,SAACC,EAAMC,GAAP,OACpB,kBAAC,IAAMC,SAAP,CAAgBC,IAAKF,EAAY,IAAMD,GACrC,kBAAC0F,EAAA,EAAD,CACE5F,MAXK,IAYLD,OAZK,IAaLhB,MAAOmB,EACPI,UAAS,eAAgBH,EAAY,KAhB9B,IACe,GAgBpB2K,IADO,OAETvK,aACG9B,EAAK+B,WAAWN,IAAS,EAAKhB,aAAaiB,GAE9CM,OAAQe,IAAKtB,GAAMO,OACnBoF,SAAUrE,IAAKtB,GAAM6H,KACrBpH,QAASlC,EAAKmC,WAAWV,KAE1B,EAAKnB,MAAM0L,OAAOtK,GAAWF,KAAI,SAAC8K,EAAWC,GAC5C,IAAMC,EAAa,EAAKlM,MAAM0L,OAAOtK,GAAW+B,OAChD,OACE,kBAAC,IAAM9B,SAAP,CACEC,IACEF,EACA,IACAD,EACA,IACA8K,EACA,IACAD,GAGF,kBAACnF,EAAA,EAAD,CACE5F,MAAO6K,EACP9K,OAAQ8K,EACR9L,MAAOgM,EACPzK,UAAS,cACQ,IAAf2K,GACK9K,EAAY,KA7ClB,IACe,GA4CyB0K,EAAa,EAChD1K,GA9CL,IACe,IA8CR6K,EAAa,IAAMC,EAAa,IA/CvC,IACe,EA+CQJ,IALf,QAOT/E,aAAc,EAAK5G,aAAaiB,EAAW4K,GAC3CtK,OAAQe,IAAKuJ,GAAWtK,OACxBoF,SAAUrE,IAAKtB,GAAM6H,KACrBpH,QAASlC,EAAKmC,WAAWmK,KAE3B,kBAAC,EAAD,CACEjK,IAAKX,EAAY,KAxDhB,IACe,GAwDhBY,GAAI,IACJC,GACiB,IAAfiK,GACK9K,EAAY,KA5DlB,IACe,GA4DVA,GA7DL,IACe,IA6DR6K,EAAa,IAAMC,EAAa,IA9DvC,IACe,EA8DQJ,GAClBA,EAAa,EAEnB5J,GAAI,eAQlB,4BAAQC,QAASrB,KAAKJ,SAAUE,EAAYF,S,GA/IpB0B,IAAMC,WAoJvBkJ,O,qLCpJf,IAAM7L,EAAO,IAAIC,IAGXwM,E,oBACJ,WAAYtM,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKG,MAAQ,CACXmB,KAAM,YACNsC,cAAe,EACfnE,MAAO,CAAC,IAEV,EAAKqJ,WAAY,EACjB,EAAKS,cAAgB,KACrB,EAAKC,YAAc,EAAKxJ,MAAMwJ,YAC1B,EAAKxJ,MAAMwJ,YACXC,IAXa,E,kHAcnBC,kBAAA,WACEzI,KAAKN,KAAKM,O,EAGZN,KAAA,SAAKgJ,GAAS,IACRnJ,EACAoJ,EAFO,OAITD,EAAOxJ,MAAMV,MAAMsE,SAAS4F,EAAOxJ,MAAMyD,iBACxC/D,EAAK+B,WAAW+H,EAAOxJ,MAAMmB,OAE9Bd,EAASmJ,EAAOH,YAAYG,EAAOxJ,MAAMmB,MACzCsI,EAAU/J,EAAKc,KAAKgJ,EAAOxJ,MAAMmB,KAAMd,GACvCmJ,EAAOJ,cAAgBM,YAAW,WAChCF,EAAO/I,SAAP,iBAEO,EAAKT,MAFZ,CAGImB,KAAMsI,EACNhG,cAAe/D,EAAKiK,YAAYF,MAElC,WACED,EAAOhJ,KAAKgJ,QArCV,MA0CR1I,KAAK6H,WAAY,G,EAGrBxI,aAAA,WAAgB,IAAD,OACb,OACGT,EAAK+B,WAAWX,KAAKd,MAAMmB,OAC3BL,KAAKd,MAAMV,MAAMsE,SAAS9C,KAAKd,MAAMyD,eAqB/B,KAnBA,SAAApD,GACL,OAAO,EAAKL,MAAMV,MAAMsE,SAAS,EAAK5D,MAAMyD,eACxC,kBAAM,MACN,WACE,GAAI,EAAKkF,UAAW,CAClB,IAAMc,EAAU/J,EAAKc,KAAK,EAAKR,MAAMmB,KAAMd,GAC3C,EAAKI,SACH,CACEU,KAAMsI,EACNhG,cAAe/D,EAAKiK,YAAYF,KAElC,WACE,EAAKjJ,KAAK,U,EAW5BE,MAAA,WAAS,IAAD,OACN,OAAO,WACLkJ,aAAa,EAAKR,eAClB,EAAK3I,SAAL,iBAEO,EAAKT,MAFZ,CAGImB,KAAM,YACNsC,cAAe,KAEjB,WACE,EAAK2F,cAAgBM,YAAW,WAC9B,EAAKlJ,KAAK,KApFR,U,EA2FZ4L,aAAA,SAAapC,GAAW,IAAD,OACjBlJ,KAAKd,MAAMV,MAAM,KAAO0K,IAC1BJ,aAAa9I,KAAKsI,eAClBtI,KAAKL,SAAL,iBAEOK,KAAKd,MAFZ,CAGImB,KAAM,YACNsC,cAAe,EACfnE,MAAO,CAAC0K,MAEV,WACE,EAAKZ,cAAgBM,YAAW,WAC9B,EAAKlJ,KAAK,KAvGR,U,EA6GZG,OAAA,WAAU,IAAD,OACDC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MACjD,OACE,6BACE,yBAAKkC,QAAQ,cAAc/B,MAAO,CAAEgC,OAAQ,QAASC,MAAO,UAC1D,kBAAC,IAAD,CACEA,MAAO,IACPD,OAAQ,IACRhB,MAAOc,KAAKd,MAAMmB,KAClBI,UAAU,iBACVC,YAAaV,KAAKX,eAClBuB,OAAQhC,EAAKiC,UAAUb,KAAKd,MAAMmB,MAClCS,QAASlC,EAAKmC,WAAWf,KAAKd,MAAMmB,SAGxC,yBAAKiE,UAAU,YACb,yBAAKA,UAAU,wBACb,2BAAIxE,EAAYuJ,cAChB,yBACE/E,UAAS,gBACiB,IAAxBtE,KAAKd,MAAMV,MAAM,GAAW,WAAa,cAE3C6C,QAAS,kBAAM,EAAKiK,aAAa,KAEjC,yBAAKlN,IAAKI,IAAOF,IAAI,gBAEvB,yBACEgG,UAAS,iBACiB,IAAxBtE,KAAKd,MAAMV,MAAM,GAAW,WAAa,cAE3C6C,QAAS,kBAAM,EAAKiK,aAAa,KAEjC,yBAAKlN,IAAKkL,IAAOhL,IAAI,iBAGzB,yBAAKgG,UAAU,wBACb,4BAAQjD,QAASrB,KAAKJ,SAAUE,EAAYF,SAEzC,M,GAlJa0B,IAAMC,WAuJnB8J,O,mBCpKf3M,EAAOC,QAAU,swN,mICWjB,IAAMC,EAAO,IAAIC,IAEX0M,E,oBACJ,WAAYxM,GAAQ,IAAD,EACjB,cAAMA,IAAN,KAEA,IAAIyM,EAAY,GAEhBC,YAAcD,EAAW,YAAa,EAAGzM,EAAMP,OAE/C,IAAIkN,EAAe,GAPF,OAQjBC,YAAmBH,EAAWE,EAAc,GAAI,YAAa,EAAG3M,EAAMP,OACtE,EAAKU,MAAQ,CACXV,MAAOO,EAAMP,MACbmD,KAAM+J,EACNE,YAAaF,EACbxL,OAAQwL,EAAa,IAAIG,UACzB/J,eAAe,GAdA,E,kHAkBnBgK,gBAAA,SAAgBxG,GAAK,IAAD,OAClB,OAAO,kBAAM,WAAO,IAAD,EACjB,EAAK3F,SAAS,CACZgC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAED2D,GAFC,iBAGG,EAAKpG,MAAMyC,KAAK2D,GAHnB,CAIAtC,WAAY,EAAK9D,MAAMyC,KAAK2D,GAAItC,YAJhC,S,EAWVpD,MAAA,WAAS,IAAD,OACN,OAAO,WACL,EAAKD,SAAL,iBACK,EAAKT,MADV,CAEEyC,KAAM,EAAKzC,MAAM0M,iB,EAIvBjH,oBAAA,WAAuB,IAAD,OACpB,OAAO,WACL,EAAKhF,SAAL,iBACK,EAAKT,MADV,CAEE4C,eAAgB,EAAK5C,MAAM4C,mB,EAKjCjC,OAAA,WAAU,IAAD,OACDC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MAE3C6G,EAAgBC,YAAe7E,KAAKd,MAAMyC,MAC1CzB,EAAS0E,EAAcE,QAAO,SAACC,EAAGvB,GAAJ,OAAUwB,KAAKC,IAAIF,EAAGvB,EAAE0B,KAAI,GAChE,OACE,oCACE,yBACEZ,UAAWtE,KAAKd,MAAM4C,cAAgB,eAAiB,eAEvD,yBACE7B,QAAO,YAAc,KAAOC,EAAS,GACrChC,MAAO,CAAEiC,MAAO,SAEfyE,EAAcxE,KAAI,SAAAlB,GAAK,OACtB,kBAAC,IAAMqB,SAAP,CAAgBC,IAAKtB,EAAMoG,IACzB,kBAAC,IAAD,CACEnF,MAfD,GAgBCD,OAhBD,GAiBChB,MAAOA,EAAMmB,KACbI,UAAS,cAAe,GAAe,IAAVvB,EAAMsE,GAA1B,KAAqC,GAClC,IAAVtE,EAAMgG,GADC,IAETe,aAAc,EAAK6F,gBAAgB5M,EAAMoG,IACzC1E,OAAQ1B,EAAM0B,OACdE,QAASlC,EAAKmC,WAAW7B,EAAMmB,MAC/BW,WACE9B,EAAMoG,IAAMC,SAASrG,EAAMoG,GAAGE,OAAOtG,EAAMoG,GAAGjD,OAAS,MAG1DnD,EAAMuG,QACL,kBAAC,IAAD,CACExE,GAAI,GAAuB,IAAlB/B,EAAMuG,OAAO,GA7BzB,GA8BGvE,GAAI,GAAuB,IAAlBhC,EAAMuG,OAAO,GAAWC,KACjCvE,GAAI,GAAe,IAAVjC,EAAMsE,EACfpC,GAAI,GAAe,IAAVlC,EAAMgG,EAAUQ,aAOpC,KAAOxF,EAAS,GAAK,KACpB,4BACEmB,QAASrB,KAAK2E,sBACdL,UAAU,iBAETtE,KAAKd,MAAM4C,cAAgB,SAAW,WAG3C,4BAAQT,QAASrB,KAAKJ,SAAUE,EAAW,S,GAnGzBwB,IAAMC,WAwGjBgK,O,gjBC7Gf,IAAM3M,EAAO,IAAIC,IAEXkN,E,oBACJ,WAAYhN,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKC,KAAO,CACV,GAAI,CAAEqB,KAAM,YAAaoB,gBAAiB,CAAC,IAC3C,EAAK,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAC5C,KAAM,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,EAAG,IAChD,MAAO,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAC9C,OAAQ,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAC/C,QAAS,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAChD,SAAU,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IACjD,UAAW,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAClD,WAAY,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IACnD,YAAa,CAAEpB,KAAM,YAAaoB,gBAAiB,IACnD,MAAO,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAC9C,OAAQ,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAC/C,QAAS,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IAChD,SAAU,CAAEpB,KAAM,YAAaoB,gBAAiB,CAAC,IACjD,UAAW,CAAEpB,KAAM,YAAaoB,gBAAiB,KAEnD,EAAKvC,MAAQ,CACXyC,KAAM,EAAK3C,KACXkB,OAAQ,EACR4B,eAAe,GAtBA,E,kHA0BnBzC,aAAA,SAAaiG,EAAI0G,GAAc,IAAD,OAC5B,OAAO,SAAAzM,GAAM,OAAI,WACf,IAQ2D,EARrD0M,EAAYrN,EAAKc,KAAKsM,EAAazM,GACnC+C,EAAQgD,EAAK/F,EAEb2M,EAC2C,IAA/C,EAAKhN,MAAMyC,KAAK2D,GAAI7D,gBAAgBY,OAChC,EAAKnD,MAAMgB,OACX,EAAKhB,MAAMgB,OAAS,EAErB,EAAKhB,MAAMyC,KAAK2D,GAAI7D,gBAAgBqB,SAASvD,IAChD,EAAKI,SAAS,CACZgC,KAAK,OAAD,UACC,EAAKzC,MAAMyC,MADZ,OAED2D,GAAK,CACJjF,KAAM2L,EACNvK,gBAAgB,GAAD,SAAM,EAAKvC,MAAMyC,KAAK2D,GAAI7D,iBAA1B,CAA2ClC,KAJ1D,EAMD+C,GAAQ,CAAEjC,KAAM4L,EAAWxK,gBAAiB,IAN3C,IAQJvB,OAAQgM,O,EAMhBtM,MAAA,WAAS,IAAD,OACN,OAAO,WACL,EAAKD,SAAS,CACZgC,KAAM,EAAK3C,KACXkB,OAAQ,M,EAKdL,OAAA,WAAU,IAAD,OACDC,EAAcC,IAAUC,KAAKjB,MAAMhB,MAAQ,MAEjD,OACE,oCACE,yBACEuG,UAAWtE,KAAKd,MAAM4C,cAAgB,eAAiB,eAEvD,yBACE7B,QAAO,YAAc,IAAMD,KAAKd,MAAMgB,OACtChC,MAAO,CAAEiC,MAAO,SAEf0E,YAAe7E,KAAKd,MAAMyC,MAAMvB,KAAI,SAAAC,GAAI,OACvC,kBAAC,IAAME,SAAP,CAAgBC,IAAKH,EAAKiF,IACxB,kBAAC,IAAD,CACEnF,MAbD,GAcCD,OAdD,GAeChB,MAAOmB,EAAKA,KACZI,UAAS,cAAe,GAAc,IAATJ,EAAKmD,GAAzB,KAAoC,GAClC,IAATnD,EAAK6E,GADE,IAETxE,aACG9B,EAAK+B,WAAWN,EAAKA,OACtB,EAAKhB,aAAagB,EAAKiF,GAAIjF,EAAKA,MAElCO,OAAQhC,EAAKiC,UAAUR,EAAKA,MAC5BS,QAASlC,EAAKmC,WAAWV,EAAKA,MAC9BW,WACEX,EAAKiF,IAAMC,SAASlF,EAAKiF,GAAGE,OAAOnF,EAAKiF,GAAGjD,OAAS,MAGvDhC,EAAKoF,QACJ,kBAAC,IAAD,CACExE,GAAI,GAAsB,IAAjBZ,EAAKoF,OAAO,GA9BxB,GA+BGvE,GAAI,GAAsB,IAAjBb,EAAKoF,OAAO,GAAWC,KAChCvE,GAAI,GAAc,IAATd,EAAKmD,EACdpC,GAAI,GAAc,IAATf,EAAK6E,EAAUQ,aAOpC,4BAAQrE,QAASrB,KAAKJ,SAAUE,EAAYF,S,GAxG5B0B,IAAMC,WA6GfwK,O,kCCvHA,KACbI,GAAI,CACFvM,MAAO,gBACPyJ,aAAc,iBACdE,cAAe,gBACfC,cAAe,4BACfzH,KAAM,UACN8D,OAAQ,UACRC,QAAS,YACT5C,MAAO,iDACPC,MAAO,mCACPC,MAAO,uDACPC,MACE,qFACFoB,MAAO,4DACPC,MAAO,0CACPd,MAAO,CACLS,MAAO,+BACPG,gBAAiB,qBACjBX,aAAc,2BACdJ,QAAS,oBACTO,SAAU,sBACVC,UAAW,oDACXE,KAAM,iBACND,MAAO,mBACPE,QAAS,qDAEXG,IAAK,IACLT,IAAK,OACLC,GAAI,OAENqI,GAAI,CACFxM,MAAO,QACPyJ,aAAc,eACdE,cAAe,gBACfC,cAAe,oBACfzH,KAAM,OACN8D,OAAQ,SACRC,QAAS,UACT5C,MAAO,4CACPC,MAAO,wCACPC,MAAO,mDACPC,MACE,uEACFoB,MAAO,oDACPC,MAAO,mCACPd,MAAO,CACLS,MAAO,6BACPG,gBAAiB,oBACjBX,aAAc,0BACdJ,QAAS,qBACTO,SAAU,sBACVC,UAAW,gDACXE,KAAM,gBACND,MAAO,iBACPE,QAAS,qDAEXG,IAAK,MACLT,IAAK,MACLC,GAAI,Q,+oBCzDR,IAAMnF,EAAO,I,UAAIC,GAgFjB,SAAS4M,EAAczF,EAAU9G,EAAOmN,EAAc7N,GAIpD,IAAIoC,EA2DA0L,EA1DAC,EAAe,GACfjJ,EAAS1E,EAAKkL,QAAQuC,GACtBG,EAAY5N,EAAKkL,SAAS,EAAIuC,GAAgB,GAWlD,QATwB9J,IAApByD,EAAS9G,KACX8G,EAAS9G,GAAS,CAChBgJ,KAAMhJ,EACNmN,aAAcA,EACdzL,OAAQ,GACRiL,UAAW,OAIXjN,EAAKiC,UAAU3B,KAAWN,EAAKoL,OAKjC,OAJApJ,EAAShC,EAAKiC,UAAU3B,GAAOmH,cAC/BL,EAAS9G,GAAO0B,OAASA,EACzBoF,EAAS9G,GAAO2M,UAAY,EAC5B7F,EAAS9G,GAAOuN,OAAQ,EACjB,CAAE7L,OAAQA,EAAQiL,UAAW,GAGtC,IAAK,IAAItM,EAAS,EAAGA,EAAS,EAAGA,IAC/B,GAAIyG,EAAS9G,GAAOgJ,KAAK3I,KAAYX,EAAKmL,MAAO,CAE/C,IAAI2C,EACFxN,EAAMqL,UAAU,EAAGhL,GAAU+D,EAASpE,EAAMqL,UAAUhL,EAAS,GAE7DqB,OAAM,EACNiL,OAAS,EACTc,OAAM,OAEepK,IAAvByD,EAAS0G,IACqB,KAA9B1G,EAAS0G,GAAU9L,QAGnBA,EAASoF,EAAS0G,GAAU9L,OAC5BiL,EAAY7F,EAAS0G,GAAUb,YAQ/BjL,GANA+L,EAASlB,EACPzF,EACA0G,GACCL,EAAe,GAAK,EACrB7N,IAEcoC,OAChBiL,EAAYc,EAAOd,WAIrB7F,EAAS9G,GAAOgJ,KACdlC,EAAS9G,GAAOgJ,KAAKqC,UAAU,EAAGhL,GAClCqB,EACAoF,EAAS9G,GAAOgJ,KAAKqC,UAAUhL,EAAS,GAE1CgN,EAAa9M,KAAK,CAAEmB,SAAQiL,cA0ChC,OArCIU,EAAanM,KAAI,SAAAoD,GAAC,OAAIA,EAAE5C,UAAQkC,SAASQ,EAAO+C,gBAClDiG,EAAetH,KAAKoC,IAAL,MAAApC,KAAI,EACduH,EACAnM,KAAI,SAAAoD,GAAC,OAAKA,EAAE5C,SAAW0C,EAAO+C,cAAgB7C,EAAEqI,UAAY,QAC5DtI,QAAO,SAAAC,GAAC,OAAU,OAANA,OAEjB5C,EAAS0C,EAAO+C,eAEZkG,EAAanM,KAAI,SAAAoD,GAAC,OAAIA,EAAE5C,UAAQkC,SAASlE,EAAKmE,OAChDuJ,EAAetH,KAAKoC,IAAL,MAAApC,KAAI,EACduH,EACAnM,KAAI,SAAAoD,GAAC,OAAKA,EAAE5C,SAAWhC,EAAKmE,KAAOS,EAAEqI,UAAY,QACjDtI,QAAO,SAAAC,GAAC,OAAU,OAANA,OAEjB5C,EAAShC,EAAKmE,MAEVwJ,EAAanM,KAAI,SAAAoD,GAAC,OAAIA,EAAE5C,UAAQkC,SAAS0J,EAAUnG,iBACrDiG,EAAetH,KAAKoC,IAAL,MAAApC,KAAI,EACduH,EACAnM,KAAI,SAAAoD,GAAC,OACJA,EAAE5C,SAAW4L,EAAUnG,cAAgB7C,EAAEqI,UAAY,QAEtDtI,QAAO,SAAAC,GAAC,OAAU,OAANA,OAEjB5C,EAAS4L,EAAUnG,eAKzBL,EAAS9G,GAAO0B,OAASA,EAEvBoF,EAAS9G,GAAO2M,UADdQ,IAAiB7N,EACS8N,EAEAC,EACzBnM,KAAI,SAAAoD,GAAC,OAAIA,EAAEqI,aACX/G,QAAO,SAAC8H,EAAOpJ,GAAR,OAAcoJ,EAAQpJ,KAE3B,CACL5C,OAAQoF,EAAS9G,GAAO0B,OACxBiL,UAAW7F,EAAS9G,GAAO2M,WA0D/B,SAAShH,EAAelD,GACtB,IAAIzB,EAAS,EACT2M,EAAmB,GACnBC,EAAqB,GACrBxH,EAAKwH,EAAmBC,KAAK,IAC7BC,EAAerL,EAAK2D,GACpB2H,GAAY,EAEZhD,EAAS,GACbA,EAAOxK,KAAP,iBACKuN,EADL,CAEExJ,EAAGsJ,EAAmBzK,OACtB6C,EAAGhF,EACHoF,GAAIA,KAGN,IAAI4H,EAAkB,CAAC,CAAC,EAAG,IAO3B,IANIF,EAAavL,gBAAgBY,OAAS,IACxCwK,EAAiBpN,KAAK,GACtBqN,EAAmBrN,KAAKuN,EAAavL,gBAAgB,IACrDuL,EAAerL,EAAKmL,EAAmBC,KAAK,MAGvCF,EAAiBxK,OAAS,GAAG,CAClCyK,EAAqB,GACrB,IAAK,IAAI1C,EAAI,EAAGA,EAAIyC,EAAiBxK,OAAQ+H,IAC3C0C,EAAmBrN,KACjBkC,EAAKmL,EAAmBC,KAAK,KAAKtL,gBAAgBoL,EAAiBzC,KAGvE,IAAI9E,EAAKwH,EAAmBC,KAAK,IACjCC,EAAerL,EAAK2D,GAEf2H,GAwBHD,EAAerL,EAAKmL,EAAmBtN,MAAM,GAAI,GAAGuN,KAAK,KAEzDG,EAAgBC,MAEhBN,EAAiBA,EAAiBxK,OAAS,GACzCwK,EAAiBA,EAAiBxK,OAAS,GAAK,IA3BlD4H,EAAOxK,KAAP,iBACKuN,EADL,CAEExJ,EAAGsJ,EAAmBzK,OACtB6C,EAAGhF,EACHoF,GAAIA,EACJG,OAAQyH,EAAgBA,EAAgB7K,OAAS,MAEnD6K,EAAgBzN,KAAK,CAACqN,EAAmBzK,OAAQnC,IAE7C8M,EAAavL,gBAAgBY,OAAS,EAExCwK,EAAiBpN,KAAK,IAGtBuN,EAAerL,EAAKmL,EAAmBtN,MAAM,GAAI,GAAGuN,KAAK,KACzDG,EAAgBC,MAEhBN,EAAiBA,EAAiBxK,OAAS,GACzCwK,EAAiBA,EAAiBxK,OAAS,GAAK,IAapDwK,EAAiBA,EAAiBxK,OAAS,IACzC2K,EAAavL,gBAAgBY,QAC/B2K,EAAahK,WAGb6J,EAAiBM,MACjBF,GAAY,IAE0C,IAAlDJ,EAAiBA,EAAiBxK,OAAS,KAC7CnC,GAAU,GAEZ+M,GAAY,GAGhB,OAAOhD,EAGT,SAAS0B,EAAmBhK,EAAMyL,EAAY9H,EAAIjF,EAAMgM,EAAc7N,GAEpE,GAAII,EAAK+B,WAAWN,GAClB+M,EAAW9H,GAAM,CACfjF,KAAMA,EACN6H,KAAM7H,EACNoB,gBAAiB,GACjBoK,UAAWlK,EAAKtB,GAAMwL,UACtBjL,OAAQe,EAAKtB,GAAMO,YAEhB,CACL,IAAMxB,EAAUR,EAAKQ,QAAQiB,GAE7B,GAAIgM,IAAiB7N,EAAO,CAC1B,IAAI6O,EACA1E,EACA2E,EAAmB,IAEvBlO,EAAQgD,SAAQ,SAAA7C,GACdoJ,EAAU/J,EAAKc,KAAKW,EAAMd,GAExBoC,EAAKgH,GAASkD,UAAYyB,GAC1B3L,EAAKgH,GAAS/H,SAAWe,EAAKtB,GAAMO,SAEpC0M,EAAmB3L,EAAKgH,GAASkD,UACjCwB,EAAa9N,MAGjB6N,EAAW9H,GAAM,CACfjF,KAAMA,EACN6H,KAAMvG,EAAKtB,GAAM6H,KACjBzG,gBAAiB,CAAC4L,GAClBxB,UAAWlK,EAAKtB,GAAMwL,UACtBjL,OAAQe,EAAKtB,GAAMO,QAErB+K,EACEhK,EACAyL,EACA9H,EAAK+H,EACLzO,EAAKc,KAAKW,EAAMgN,IACfhB,EAAe,GAAK,EACrB7N,QAGF4O,EAAW9H,GAAM,CACfjF,KAAMA,EACN6H,KAAMvG,EAAKtB,GAAM6H,KACjBzG,gBAAiBrC,EACjByM,UAAWlK,EAAKtB,GAAMwL,UACtBjL,OAAQe,EAAKtB,GAAMO,QAErBxB,EAAQgD,SAAQ,SAAA7C,GACdoM,EACEhK,EACAyL,EACA9H,EAAK/F,EACLX,EAAKc,KAAKW,EAAMd,IACf8M,EAAe,GAAK,EACrB7N,OAOV,IAAI+O,EAAc,GAGlB,SAAS/E,EAActJ,GACrB,IAAIsO,EAAYD,EAAYrO,GAAOgJ,KAC/BpH,EAAUyM,EAAYrO,GAAO0B,OAC7B0C,EAAS1E,EAAKgE,UAAU1D,GAExBE,EAAU,GACd,GAAI0B,IAAYwC,EAAO+C,cAIrB,IAHA,IACIoH,EAEKrD,EAAI,EAAGA,EAAI,EAAGA,IACjBoD,EAAUpD,KAAOtJ,KAEnB2M,EADWF,EAAY3O,EAAKc,KAAKR,EAAOkL,IAAIlC,KAC3BtB,MAAM,IAAIrD,QAAO,SAAAC,GAAC,OAAIA,IAAMF,EAAO+C,iBACjDhE,QALS,EAOVjD,EAAU,CAACgL,GAPD,IAQDqD,GACTrO,EAAQK,KAAK2K,SAId,GAAItJ,IAAYlC,EAAKmE,KAC1B,IAAK,IAAIqH,EAAI,EAAGA,EAAI,EAAGA,IACjBoD,EAAUpD,KAAOxL,EAAKmE,MACxB3D,EAAQK,KAAK2K,QAIjB,IAAK,IAAIA,EAAI,EAAGA,EAAI,EAAGA,IACjBlL,EAAMkL,KAAOxL,EAAKmL,OACpB3K,EAAQK,KAAK2K,GAMnB,OADahL,EAAQ4F,KAAK6B,MAAMzH,EAAQiD,OAAS2C,KAAK0I,WAtCxDjC,EAAc8B,EAAa,YAAa,EAAG","file":"component---src-pages-tic-tac-toe-fr-js-7ed45ae619e096da3ccd.js","sourcesContent":["import React from \"react\"\n\nimport Layout from \"src/components/layout\"\nimport { Link } from \"gatsby\"\nimport SEO from \"src/components/seo\"\n\n//components\nimport PlayableIntro from \"src/components/tic-tac-toe/explanations/intro\"\nimport History from \"src/components/tic-tac-toe/explanations/history\"\nimport TreeIntro from \"src/components/tic-tac-toe/explanations/introTree\"\nimport RecurrenceExample from \"src/components/tic-tac-toe/explanations/recurrence\"\nimport ComputerView from \"src/components/tic-tac-toe/explanations/computerView\"\nimport TreeSearch from \"src/components/tic-tac-toe/explanations/treeSearch\"\nimport CompletTree from \"src/components/tic-tac-toe/explanations/completTree\"\n\n//images\nimport algoPicture from \"./images/algo.svg\"\nimport possibleEnds from \"./images/ends.svg\"\nconst Page = () => (\n  <Layout location=\"/tic-tac-toe\" currentLanguage=\"Fran√ßais\">\n    <SEO title=\"Morpion\" />\n\n    <noscript>\n      Pour faire fonctionner les animations, merci d'activer votre javscript.\n    </noscript>\n\n    <h1>Peut on battre une IA au morpion?</h1>\n\n    <p>\n      La plupart des articles scientifiques en intelligences artificielle qui\n      font sensation parlent d'ordinateur battant le champion du monde d‚Äô√©chec,\n      de Go, et bient√¥t Dota. Dans cet article, on va retourner √† l'age de\n      pierre de l'IA pour jouer au morpion.\n    </p>\n    <p>\n      Mais avant d'en dire plus, voyons √† quel point votre ordinateur est bon au\n      morpion. Pour rappel, le morpion se joue sur une grille de taille 3x3. Les\n      joueurs posent l'un apr√®s l'autre leur symbole dans une case, le premier √†\n      en avoir align√© 3 √† gagner. Par d√©faut, le premier joueur joue les croix,\n      et le deuxi√®me les ronds.\n    </p>\n\n    <PlayableIntro lang=\"fr\" />\n\n    <h2>Comment votre ordinateur voit le monde.</h2>\n\n    <p>\n      Pour votre ordinateur, le monde se limite √† des grilles de morpion. C'est\n      un peu limit√© comme vision du monde, mais √ßa lui suffit pour vous mettre\n      la p√¢t√©e. Quand on commence une partie, l'ordinateur voit une grille vide.\n      Si c'est son tour de jouer, il choisit une case et affiche le plateau en\n      remplissant la case qu'il a choisi. Quand c'est √† vous de jouer il attend\n      que vous choisissiez une case pour faire avancer le jeu.\n    </p>\n\n    <History lang=\"fr\" />\n\n    <p>\n      Jusque-l√† pas grand-chose de sp√©cial. Une partie de morpion c'est une\n      suite de diff√©rentes grilles, de plus en plus compl√®te. Mais la puissance\n      de l'ordinateur, c'est qu'il peut retourner facilement dans le passer pour\n      tester d'autre possibilit√©s. Dans l'exemple ci-dessous, le premier joueur\n      r√©alise qu'il s'est tromp√© en choisissant son deuxi√®me coup. Qu'il aurait\n      pu gagner en jouant autrement. Ce n'est qu'un exemple, mais avec beaucoup\n      de patience, vous pouvez afficher toutes les parties possibles et\n      imaginables.\n    </p>\n\n    <TreeIntro lang=\"fr\" />\n\n    <p>\n      Et voila, un magnifique arbre, avec √† gauche sa racine d'o√π partent toutes\n      les parties de morpion imaginable, et une ramification √† chaque grille.\n      Bien sur pour un humain, tester toutes les possibilit√©s serait long et\n      ennuyeux. Mais votre ordinateur, ne se plein (presque) jamais lui. On peut\n      donc lui demander de calculer toutes les parties de morpion possibles. √Ä\n      partir de cette connaissance, on va pouvoir calculer si un joueur √† une\n      strat√©gie gagnante ou pas, et devenir les maitres de morpion{\" \"}\n      <span role=\"img\" aria-label=\"evil\">\n        üëπ\n      </span>\n      .\n    </p>\n\n    <p>\n      Pour √™tre pr√©cis, l'ordinateur peut classer les grilles de morpion en\n      trois cat√©gories.\n    </p>\n    <ol>\n      <li>\n        <b>\n          <span style={{ color: \"blue\" }}>X</span> gagne\n        </b>{\" \"}\n        : Le joueur <span style={{ color: \"blue\" }}>X</span> √† un moyen de\n        gagner quelque soit les choix de <span style={{ color: \"red\" }}>O</span>\n        .\n      </li>\n      <li>\n        <b>\n          <span style={{ color: \"red\" }}>O</span> gagne\n        </b>\n        : Le joueur <span style={{ color: \"red\" }}>O</span> √† un moyen de gagner\n        quelque soit les choix de <span style={{ color: \"blue\" }}>X</span>\n      </li>\n      <li>\n        <b>\n          <span style={{ color: \"orange\" }}>nul</span>\n        </b>\n        : Aucun des deux joueurs n'a de strat√©gie pour gagner avec certitude.\n      </li>\n    </ol>\n    <p>\n      Bien sur, l'ordinateur prendra toujours le meilleur choix pour lui. Il va\n      tester toutes les actions qu'il peut jouer, et regarder √† quelle cat√©gorie\n      appartient la grille qu'il obtient. Il jouera en priorit√© les actions qui\n      donne une grille le faisant gagner (eh oui, il veut gagner{\" \"}\n      <span role=\"img\" aria-label=\"angel\">\n        üëº\n      </span>\n      ). Sinon, il va jouer une action qui donne match nul (c'est la vie, on ne\n      peut pas toujours gagner{\" \"}\n      <span role=\"img\" aria-label=\"disapointed\">\n        üòí\n      </span>\n      ). Et s'il n'y en a pas, il est oblig√© de jouer un coup qui donne une\n      grille gagnante pour son adversaire{\" \"}\n      <span role=\"img\" aria-label=\"crying\">\n        üò≠\n      </span>\n      .\n    </p>\n    <p>\n      Voil√†, vous pouvez rejouer contre l'ordinateur, et d√©cidant de regarder ou\n      non, quelle action fait gagner <span style={{ color: \"blue\" }}>X</span>,{\" \"}\n      <span style={{ color: \"red\" }}>O</span> ou fait{\" \"}\n      <span style={{ color: \"orange\" }}>nul</span>. Vous pouvez m√™me jouer\n      contre vous m√™me si vous en avez mare de perdre{\" \"}\n      <span role=\"img\" aria-label=\"smile\">\n        üòâ\n      </span>\n    </p>\n\n    <ComputerView lang=\"fr\" />\n\n    <h2>Comment savoir si une grille est gagnante?</h2>\n    <p>\n      On va commencer par des cas simple, voire basique. Si il y a trois{\" \"}\n      <span style={{ color: \"blue\" }}>X</span> (ou trois{\" \"}\n      <span style={{ color: \"red\" }}>O</span>) align√©s, alors c'est une grille\n      gagnante pour <span style={{ color: \"blue\" }}>X</span> (ou{\" \"}\n      <span style={{ color: \"red\" }}>O</span>). Et si la grille est remplie sans\n      que 3 symbols soient align√©s, c'est une grille{\" \"}\n      <span style={{ color: \"orange\" }}>nul</span>. #CaptainObvious C'est\n      basique, mais √ßa va mieux en le disant.\n    </p>\n\n    <img\n      src={possibleEnds}\n      alt=\"exemple de cas finaux possible pour le morpion\"\n    />\n\n    <p>\n      Maintenant on va g√©rer les cas plus compliqu√©s. Premi√®rement on va\n      supposer que tout le monde est un bon joueur. Si un bon joueur peut jouer\n      une action qui est gagnant pour lui il la joue. Sinon il joue pour obtenir\n      un nul, et sinon il est oblig√© de perdre. Bref, la m√™me logique que notre\n      ordinateur.\n    </p>\n    <p>\n      Conclusion, si parmi les actions possibles il y en a une qui fait gagner\n      le joueur dont c'est le tour, on va dire que la grille est gagnante pour\n      ce joueur. S'il n'a pas de coup gagnant mais au moins un coup qui lui\n      permet d'avoir un nul, on dit que c'est une grille nul. Et si tous les\n      coups donnent une grille gagnante pour son adversaire, on dit que la\n      grille actuelle est gagnante pour l'adversaire.\n    </p>\n    <p>\n      Avec un exemple √ßa sera plus simple. Dans les 3 cas c'est √†{\" \"}\n      <span style={{ color: \"blue\" }}>X</span> de jouer. Dans le premier cas, il\n      a une action qui l'am√®ne sur une grille gagnante pour lui. Dans le second\n      cas, il y a des actions <span style={{ color: \"orange\" }}>nul</span> et\n      des actions gagnantes pour <span style={{ color: \"red\" }}>O</span>, c'est\n      donc une grille <span style={{ color: \"orange\" }}>nul</span>. Et le\n      dernier cas, quoi que fasse <span style={{ color: \"blue\" }}>X</span>, il\n      arrivera sur une grille permettant √†{\" \"}\n      <span style={{ color: \"red\" }}>O</span> de gagner. C'est donc une grille\n      gagnante pour <span style={{ color: \"red\" }}>O</span>.\n    </p>\n\n    <RecurrenceExample lang=\"fr\" />\n\n    <p>\n      La fa√ßon la plus simple de calculer qui va gagner est d'appliquer les\n      r√®gles que l'on vient de pr√©senter. On cr√©e une fonction \"getWinner\"\n      (\"donne le gagnant\" en anglais), qui pour une grille de morpion donn√©e\n      renvoi le gagnant associ√©. Si c'est un cas final, la fonction revoit le\n      gagnant. Si non, on test toutes les actions possibles, on appel\n      \"getWinner\" pour savoir si ces actions font gagner{\" \"}\n      <span style={{ color: \"blue\" }}>X</span>,{\" \"}\n      <span style={{ color: \"red\" }}>O</span> ou{\" \"}\n      <span style={{ color: \"orange\" }}>nul</span>. Maintenant que l'on conna√Æt\n      le r√©sultat de toute les actions possibles, on peut utiliser la relation\n      de r√©currence pr√©c√©dente pour savoir qui sera le gagnant.\n    </p>\n\n    <img src={algoPicture} alt=\"schemat de l'algorithme\" />\n\n    <p>\n      What ?!? Pour calculer le r√©sultat de \"getWinner\" il faut utiliser ...\n      \"getWinner\" ? Pas d'inquietude, c'est normal, c'est une fonction\n      r√©cursive. A chaque fois que \"getWinner\" appelle \"getWinner\", elle lui\n      demande de calculer le r√©sultat pour une grille un peu plus remplie. Donc\n      si \"getWinner\" appel \"getWinner\" qui appel \"getWinner\", etc 9 fois, on\n      arrive forc√©ment √† un cas final, car chaque fonction ajoute un symbole, et\n      avec 9 symboles, la grille est remplie. Grace au r√©sultat des grilles\n      remplies, on va pouvoir calculer les \"getWinner\" pr√©c√©dents, puis avec\n      leurs r√©sultats on calcul les \"getWinner\" pr√©c√©dents, et on continue comme\n      √ßa jusque √† arriver au premier.\n    </p>\n    <p>\n      Pas convaincu ? En appuyant sur next, faite d√©filer l'algorithme √©tape par\n      √©tape.\n    </p>\n    <TreeSearch lang=\"fr\" />\n\n    <h2>Et le r√©sultat est ...</h2>\n    <p>\n      Les plus curieux d'entre vous l'auront remarqu√©, le morpion est un jeu se\n      finissant par un match <span style={{ color: \"orange\" }}>nul</span>, si\n      les deux joueurs sont parfait. Pour le prouver, le plus simple serait\n      d'afficher tout l'arbre. Ca serait un peu compliqu√© √† lire. On propose\n      donc de prouver que le premier joueur √† une strat√©gie pour obtenir{\" \"}\n      <span style={{ color: \"orange\" }}>nul</span> quoi que fasse le deuxi√®me\n      joueur. Puis de faire la m√™me chose pour le deuxi√®me joueur. Comme le\n      premier joueur √† une strat√©gie pour faire match nul, les deuxi√®me joueur\n      ne peut pas avoir de strat√©gie gagnante, et inversement.\n    </p>\n    <p>\n      Ci-dessous, l'arbre pour le premier joueur. Quand c'est √† lui de jouer, on\n      affiche une seule action. Cette action est celle de sa strat√©gie. Quand\n      c'est le tour du deuxi√®me joueur, on affiche toutes les possibilit√©s, pour\n      √™tre sur que quoi qu'il fasse, le premier joueur aura moyen d'obtenir au\n      moins un match <span style={{ color: \"orange\" }}>nul</span>.\n    </p>\n    <p>Astuce: cliquez sur les grilles pour r√©duire l'arbre.</p>\n\n    <CompletTree robot={0} lang=\"fr\" />\n\n    <p>\n      Pourquoi commencer par premier joueur ? Parce que c'est l'arbre le plus\n      petit. Celui du deuxi√®me joueur √©tant un peu plus gros, il est dans une\n      autre page{\" \"}\n      <Link to={\"/tic-tac-toe/second-player-tree/fr\"}>(celle-ci)</Link>\n    </p>\n  </Layout>\n)\n\nexport default Page\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTAwMCAxMjAiPgogICAgPGcgY2xhc3M9ImJvYXJkIHdpbm5lciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE2LjY2NjY2NjY2NjY2NjY2LDEwKSI+CiAgICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGNsYXNzPSJ3aW5uZXItWCI+PC9yZWN0PgogICAgICAgIDxnIGNsYXNzPSJlbGVtZW50cyI+CiAgICAgICAgICAgIDxyZWN0IHg9IjMuMzMzMzMzMzMzMzMzMzM0IiB5PSIzLjMzMzMzMzMzMzMzMzMzNCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGNsYXNzPSJzb2x1dGlvbi11bktub25lZCBmYWxzZSI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCB4PSIzNi42NjY2NjY2NjY2NjY2NjQiIHk9IjMuMzMzMzMzMzMzMzMzMzM0IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgY2xhc3M9InNvbHV0aW9uLXVuS25vbmVkIGZhbHNlIj48L3JlY3Q+CiAgICAgICAgICAgIDxnIGNsYXNzPSJYIj4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeTE9IjMuMzMzMzMzMzMzMzMzMzM0IiB4Mj0iOTYuNjY2NjY2NjY2NjY2NjciIHkyPSIzMCI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9Ijk2LjY2NjY2NjY2NjY2NjY3IiB5MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHgyPSI3MC4wMDAwMDAwMDAwMDAwMSIgeTI9IjMwIj48L2xpbmU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9Ik8iPgogICAgICAgICAgICAgICAgPGNpcmNsZSByPSIxMy4zMzMzMzMzMzMzMzMzMzQiIGN4PSIxNi42NjY2NjY2NjY2NjY2NjgiIGN5PSI1MCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9Ik8iPgogICAgICAgICAgICAgICAgPGNpcmNsZSByPSIxMy4zMzMzMzMzMzMzMzMzMzQiIGN4PSI1MCIgY3k9IjUwIj48L2NpcmNsZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iWCI+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iNzAuMDAwMDAwMDAwMDAwMDEiIHkxPSIzNi42NjY2NjY2NjY2NjY2NjQiIHgyPSI5Ni42NjY2NjY2NjY2NjY2NyIgeTI9IjYzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9Ijk2LjY2NjY2NjY2NjY2NjY3IiB5MT0iMzYuNjY2NjY2NjY2NjY2NjY0IiB4Mj0iNzAuMDAwMDAwMDAwMDAwMDEiIHkyPSI2My4zMzMzMzMzMzMzMzMzMzYiPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iWCI+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHkxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeDI9IjMwIiB5Mj0iOTYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSIzMCIgeTE9IjcwLjAwMDAwMDAwMDAwMDAxIiB4Mj0iMy4zMzMzMzMzMzMzMzMzMzQiIHkyPSI5Ni42NjY2NjY2NjY2NjY2NyI+PC9saW5lPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGNsYXNzPSJPIj4KICAgICAgICAgICAgICAgIDxjaXJjbGUgcj0iMTMuMzMzMzMzMzMzMzMzMzM0IiBjeD0iNTAiIGN5PSI4My4zMzMzMzMzMzMzMzMzNCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9IlgiPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjcwLjAwMDAwMDAwMDAwMDAxIiB5MT0iNzAuMDAwMDAwMDAwMDAwMDEiIHgyPSI5Ni42NjY2NjY2NjY2NjY2NyIgeTI9Ijk2LjY2NjY2NjY2NjY2NjY3Ij48L2xpbmU+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iOTYuNjY2NjY2NjY2NjY2NjciIHkxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeDI9IjcwLjAwMDAwMDAwMDAwMDAxIiB5Mj0iOTYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBjbGFzcz0iZ3JpZCI+CiAgICAgICAgICAgIDxsaW5lIHgxPSIzMy4zMzMzMzMzMzMzMzMzMzYiIHkxPSIwIiB4Mj0iMzMuMzMzMzMzMzMzMzMzMzM2IiB5Mj0iMTAwIj48L2xpbmU+CiAgICAgICAgICAgIDxsaW5lIHgxPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTE9IjAiIHgyPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTI9IjEwMCI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjMzLjMzMzMzMzMzMzMzMzMzNiIgeDI9IjEwMCIgeTI9IjMzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjY2LjY2NjY2NjY2NjY2NjY3IiB4Mj0iMTAwIiB5Mj0iNjYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICA8L2c+CiAgICAgICAgPGxpbmUgeDE9IjgzLjMzMzMzMzMzMzMzMzM0IiB5MT0iODMuMzMzMzMzMzMzMzMzMzQiIHgyPSI4My4zMzMzMzMzMzMzMzMzNCIgeTI9IjE2LjY2NjY2NjY2NjY2NjY2OCIgY2xhc3M9Indpbm5pbmctbGluZSI+PC9saW5lPgogICAgPC9nPgogICAgPGcgY2xhc3M9ImJvYXJkIHdpbm5lciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUwLDEwKSI+CiAgICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGNsYXNzPSJ3aW5uZXItTyI+PC9yZWN0PgogICAgICAgIDxnIGNsYXNzPSJlbGVtZW50cyI+CiAgICAgICAgICAgIDxyZWN0IHg9IjMuMzMzMzMzMzMzMzMzMzM0IiB5PSIzLjMzMzMzMzMzMzMzMzMzNCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGNsYXNzPSJzb2x1dGlvbi11bktub25lZCBmYWxzZSI+PC9yZWN0PgogICAgICAgICAgICA8ZyBjbGFzcz0iWCI+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iMzYuNjY2NjY2NjY2NjY2NjY0IiB5MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHgyPSI2My4zMzMzMzMzMzMzMzMzMzYiIHkyPSIzMCI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjYzLjMzMzMzMzMzMzMzMzMzNiIgeTE9IjMuMzMzMzMzMzMzMzMzMzM0IiB4Mj0iMzYuNjY2NjY2NjY2NjY2NjY0IiB5Mj0iMzAiPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iTyI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIHI9IjEzLjMzMzMzMzMzMzMzMzMzNCIgY3g9IjgzLjMzMzMzMzMzMzMzMzM0IiBjeT0iMTYuNjY2NjY2NjY2NjY2NjY4Ij48L2NpcmNsZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iWCI+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHkxPSIzNi42NjY2NjY2NjY2NjY2NjQiIHgyPSIzMCIgeTI9IjYzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjMwIiB5MT0iMzYuNjY2NjY2NjY2NjY2NjY0IiB4Mj0iMy4zMzMzMzMzMzMzMzMzMzQiIHkyPSI2My4zMzMzMzMzMzMzMzMzMzYiPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iTyI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIHI9IjEzLjMzMzMzMzMzMzMzMzMzNCIgY3g9IjUwIiBjeT0iNTAiPjwvY2lyY2xlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGNsYXNzPSJPIj4KICAgICAgICAgICAgICAgIDxjaXJjbGUgcj0iMTMuMzMzMzMzMzMzMzMzMzM0IiBjeD0iODMuMzMzMzMzMzMzMzMzMzQiIGN5PSI1MCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9Ik8iPgogICAgICAgICAgICAgICAgPGNpcmNsZSByPSIxMy4zMzMzMzMzMzMzMzMzMzQiIGN4PSIxNi42NjY2NjY2NjY2NjY2NjgiIGN5PSI4My4zMzMzMzMzMzMzMzMzNCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9IlgiPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjM2LjY2NjY2NjY2NjY2NjY2NCIgeTE9IjcwLjAwMDAwMDAwMDAwMDAxIiB4Mj0iNjMuMzMzMzMzMzMzMzMzMzM2IiB5Mj0iOTYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI2My4zMzMzMzMzMzMzMzMzMzYiIHkxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeDI9IjM2LjY2NjY2NjY2NjY2NjY2NCIgeTI9Ijk2LjY2NjY2NjY2NjY2NjY3Ij48L2xpbmU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9IlgiPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjcwLjAwMDAwMDAwMDAwMDAxIiB5MT0iNzAuMDAwMDAwMDAwMDAwMDEiIHgyPSI5Ni42NjY2NjY2NjY2NjY2NyIgeTI9Ijk2LjY2NjY2NjY2NjY2NjY3Ij48L2xpbmU+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iOTYuNjY2NjY2NjY2NjY2NjciIHkxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeDI9IjcwLjAwMDAwMDAwMDAwMDAxIiB5Mj0iOTYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBjbGFzcz0iZ3JpZCI+CiAgICAgICAgICAgIDxsaW5lIHgxPSIzMy4zMzMzMzMzMzMzMzMzMzYiIHkxPSIwIiB4Mj0iMzMuMzMzMzMzMzMzMzMzMzM2IiB5Mj0iMTAwIj48L2xpbmU+CiAgICAgICAgICAgIDxsaW5lIHgxPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTE9IjAiIHgyPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTI9IjEwMCI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjMzLjMzMzMzMzMzMzMzMzMzNiIgeDI9IjEwMCIgeTI9IjMzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjY2LjY2NjY2NjY2NjY2NjY3IiB4Mj0iMTAwIiB5Mj0iNjYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICA8L2c+CiAgICAgICAgPGxpbmUgeDE9IjE2LjY2NjY2NjY2NjY2NjY2OCIgeTE9IjgzLjMzMzMzMzMzMzMzMzM0IiB4Mj0iODMuMzMzMzMzMzMzMzMzMzQiIHkyPSIxNi42NjY2NjY2NjY2NjY2NjgiIGNsYXNzPSJ3aW5uaW5nLWxpbmUiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnIGNsYXNzPSJib2FyZCB3aW5uZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc4My4zMzMzMzMzMzMzMzMzLDEwKSI+CiAgICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGNsYXNzPSJ3aW5uZXItbnVsbCI+PC9yZWN0PgogICAgICAgIDxnIGNsYXNzPSJlbGVtZW50cyI+CiAgICAgICAgICAgIDxnIGNsYXNzPSJYIj4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSIzLjMzMzMzMzMzMzMzMzMzNCIgeTE9IjMuMzMzMzMzMzMzMzMzMzM0IiB4Mj0iMzAiIHkyPSIzMCI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjMwIiB5MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHgyPSIzLjMzMzMzMzMzMzMzMzMzNCIgeTI9IjMwIj48L2xpbmU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9Ik8iPgogICAgICAgICAgICAgICAgPGNpcmNsZSByPSIxMy4zMzMzMzMzMzMzMzMzMzQiIGN4PSI1MCIgY3k9IjE2LjY2NjY2NjY2NjY2NjY2OCI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9IlgiPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjcwLjAwMDAwMDAwMDAwMDAxIiB5MT0iMy4zMzMzMzMzMzMzMzMzMzQiIHgyPSI5Ni42NjY2NjY2NjY2NjY2NyIgeTI9IjMwIj48L2xpbmU+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iOTYuNjY2NjY2NjY2NjY2NjciIHkxPSIzLjMzMzMzMzMzMzMzMzMzNCIgeDI9IjcwLjAwMDAwMDAwMDAwMDAxIiB5Mj0iMzAiPjwvbGluZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iTyI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIHI9IjEzLjMzMzMzMzMzMzMzMzMzNCIgY3g9IjE2LjY2NjY2NjY2NjY2NjY2OCIgY3k9IjUwIj48L2NpcmNsZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBjbGFzcz0iTyI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIHI9IjEzLjMzMzMzMzMzMzMzMzMzNCIgY3g9IjUwIiBjeT0iNTAiPjwvY2lyY2xlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGNsYXNzPSJYIj4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeTE9IjM2LjY2NjY2NjY2NjY2NjY2NCIgeDI9Ijk2LjY2NjY2NjY2NjY2NjY3IiB5Mj0iNjMuMzMzMzMzMzMzMzMzMzM2Ij48L2xpbmU+CiAgICAgICAgICAgICAgICA8bGluZSB4MT0iOTYuNjY2NjY2NjY2NjY2NjciIHkxPSIzNi42NjY2NjY2NjY2NjY2NjQiIHgyPSI3MC4wMDAwMDAwMDAwMDAwMSIgeTI9IjYzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGNsYXNzPSJYIj4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSIzLjMzMzMzMzMzMzMzMzMzNCIgeTE9IjcwLjAwMDAwMDAwMDAwMDAxIiB4Mj0iMzAiIHkyPSI5Ni42NjY2NjY2NjY2NjY2NyI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjMwIiB5MT0iNzAuMDAwMDAwMDAwMDAwMDEiIHgyPSIzLjMzMzMzMzMzMzMzMzMzNCIgeTI9Ijk2LjY2NjY2NjY2NjY2NjY3Ij48L2xpbmU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9IlgiPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjM2LjY2NjY2NjY2NjY2NjY2NCIgeTE9IjcwLjAwMDAwMDAwMDAwMDAxIiB4Mj0iNjMuMzMzMzMzMzMzMzMzMzM2IiB5Mj0iOTYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSI2My4zMzMzMzMzMzMzMzMzMzYiIHkxPSI3MC4wMDAwMDAwMDAwMDAwMSIgeDI9IjM2LjY2NjY2NjY2NjY2NjY2NCIgeTI9Ijk2LjY2NjY2NjY2NjY2NjY3Ij48L2xpbmU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPGcgY2xhc3M9Ik8iPgogICAgICAgICAgICAgICAgPGNpcmNsZSByPSIxMy4zMzMzMzMzMzMzMzMzMzQiIGN4PSI4My4zMzMzMzMzMzMzMzMzNCIgY3k9IjgzLjMzMzMzMzMzMzMzMzM0Ij48L2NpcmNsZT4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBjbGFzcz0iZ3JpZCI+CiAgICAgICAgICAgIDxsaW5lIHgxPSIzMy4zMzMzMzMzMzMzMzMzMzYiIHkxPSIwIiB4Mj0iMzMuMzMzMzMzMzMzMzMzMzM2IiB5Mj0iMTAwIj48L2xpbmU+CiAgICAgICAgICAgIDxsaW5lIHgxPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTE9IjAiIHgyPSI2Ni42NjY2NjY2NjY2NjY2NyIgeTI9IjEwMCI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjMzLjMzMzMzMzMzMzMzMzMzNiIgeDI9IjEwMCIgeTI9IjMzLjMzMzMzMzMzMzMzMzMzNiI+PC9saW5lPgogICAgICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjY2LjY2NjY2NjY2NjY2NjY3IiB4Mj0iMTAwIiB5Mj0iNjYuNjY2NjY2NjY2NjY2NjciPjwvbGluZT4KICAgICAgICA8L2c+CiAgICA8L2c+CgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsKICAgIAouWCB7CiAgc3Ryb2tlOiB2YXIoLS1ibHVlLTUwMCk7Cn0KCi5PIHsKICBzdHJva2U6IHZhcigtLXJlZC01MDApOwogIGZpbGw6IG5vbmU7Cn0KCi5lbGVtZW50cyB7CiAgc3Ryb2tlLXdpZHRoOiAyOwp9Ci5ncmlkIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlOiB2YXIoLS1ncmF5LTUwMCk7Cn0KCi5ib2FyZDpob3ZlciAuWCB7CiAgc3Ryb2tlOiB2YXIoLS1ibHVlLTkwMCk7Cn0KLmJvYXJkOmhvdmVyIC5PIHsKICBzdHJva2U6IHZhcigtLXJlZC05MDApOwp9Cgoud2lubmVyIHsKICBzdHJva2U6IG5vbmU7CiAgZmlsbDogd2hpdGU7Cn0KCi53aW5uaW5nLWxpbmUgewogIHN0cm9rZTogZ3JheTsKICBzdHJva2Utd2lkdGg6IDY7Cn0KCi53aW5uZXItWCB7CiAgZmlsbDogd2hpdGU7CiAgb3V0bGluZS1jb2xvcjogdmFyKC0tYmx1ZS01MDApOwogIG91dGxpbmUtc3R5bGU6IHNvbGlkOwogIG91dGxpbmUtd2lkdGg6IDM7Cn0KLndpbm5lci1PIHsKICBmaWxsOiB3aGl0ZTsKICBvdXRsaW5lLWNvbG9yOiB2YXIoLS1yZWQtNTAwKTsKICBvdXRsaW5lLXN0eWxlOiBzb2xpZDsKICBvdXRsaW5lLXdpZHRoOiAzOwp9Ci53aW5uZXItbnVsbCB7CiAgZmlsbDogd2hpdGU7CiAgc3Ryb2tlLXdpZHRoOiAyOwogIG91dGxpbmUtY29sb3I6IHZhcigtLW9yYW5nZS01MDApOwogIG91dGxpbmUtc3R5bGU6IHNvbGlkOwogIG91dGxpbmUtd2lkdGg6IDM7Cn0KCi53aW5uZXIgewogIHN0cm9rZTogbm9uZTsKICBmaWxsOiB3aGl0ZTsKfQoKOnJvb3QgewogIC0tZ3JheS01MDA6ICM5ZTllOWU7CiAgLS1vcmFuZ2UtNTAwOiAjZmY5ODAwOwogIC0tcmVkLTUwMDogI2Y0NDMzNjsKICAtLWJsdWUtNTAwOiAjMjE5NmYzOwogIC0tZ3JheS03MDA6ICM2MTYxNjE7CiAgLS1vcmFuZ2UtNzAwOiAjZjU3YzAwOwoKICAtLXJlZC03MDA6ICNkMzJmMmY7CiAgLS1ibHVlLTcwMDogIzE5NzZkMjsKICAtLXJlZC05MDA6ICNiZjM2MGM7CiAgLS1ibHVlLTkwMDogIzBkNDdhMTsKfQoKICAgIF1dPiAgICA8L3N0eWxlPgo8L3N2Zz4=\"","module.exports = __webpack_public_path__ + \"static/algo-dc55946be459bc960840325fdf34843a.svg\";","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport Link from \"src/components/tic-tac-toe/atoms/Link\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props)\n    this.init = [\".........\", \"......X..\", \"...O..X..\"]\n    this.initActions = [6, 3]\n    this.state = {\n      grids: this.init,\n      actions: this.initActions,\n    }\n  }\n\n  playerAction(index) {\n    return action => () => {\n      let grids = this.state.grids.slice(0, index + 1)\n      let actions = this.state.actions.slice(0, index)\n\n      grids.push(game.play(this.state.grids[index], action))\n      actions.push(action)\n      this.setState({ grids, actions })\n    }\n  }\n\n  reset() {\n    return () => {\n      this.setState({\n        grids: this.init,\n        actions: this.initActions,\n      })\n    }\n  }\n\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n\n    return (\n      <>\n        <svg viewBox=\"0 0 1000 100\" style={{ height: \"100px\", width: \"100%\" }}>\n          {this.state.grids.map((grid, gridIndex) => (\n            <React.Fragment key={gridIndex}>\n              <Board\n                width={75}\n                height={75}\n                state={grid}\n                transform={`translate(${gridIndex * 100},12)`}\n                localAction={\n                  !game.isFinished(grid) && this.playerAction(gridIndex)\n                }\n                winner={game.getWinner(grid)}\n                victory={game.getVictory(grid)}\n                addedIndex={gridIndex > 0 && this.state.actions[gridIndex - 1]}\n              />\n              {gridIndex > 0 && (\n                <Link\n                  x0={gridIndex * 100 - 2}\n                  y0={12 + 75 / 2}\n                  x1={(gridIndex - 1) * 100 + 75 + 2}\n                  y1={12 + 75 / 2}\n                />\n              )}\n            </React.Fragment>\n          ))}\n        </svg>\n        <button onClick={this.reset()}>{translation.reset}</button>\n      </>\n    )\n  }\n}\nexport default History\n","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport Link from \"src/components/tic-tac-toe/atoms/Link\"\nimport { treeToPosition } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nclass TreeSearch extends React.Component {\n  constructor(props) {\n    super(props)\n    this.init = {\n      \"\": { grid: \".........\", childrenActions: [], isSelected: true },\n    }\n    this.state = {\n      tree: this.init,\n      height: 1,\n      algoState: 0,\n      stateId: \"\",\n      heightLimited: true,\n    }\n  }\n\n  next() {\n    return () => {\n      let currentId\n      let actions\n      let actionIndex\n      let parentId\n      // eslint-disable-next-line default-case\n      switch (this.state.algoState) {\n        case 0:\n          const grid = this.state.tree[this.state.stateId].grid\n          currentId = this.state.stateId\n          if (game.isFinished(grid)) {\n            const winner = game.getWinner(grid)\n            const nextAlgoState = 2\n            this.setState({\n              ...this.state,\n              tree: {\n                ...this.state.tree,\n                [currentId]: {\n                  ...this.state.tree[currentId],\n                  isSelected: false,\n                  winner: winner,\n                },\n              },\n              algoState: nextAlgoState,\n            })\n          } else {\n            const actions = game.actions(grid)\n            const toAdd = {}\n            actions.forEach(action => {\n              toAdd[currentId + action] = {\n                grid: game.play(grid, action),\n                childrenActions: [],\n              }\n            })\n\n            this.setState({\n              ...this.state,\n              tree: {\n                ...this.state.tree,\n                [currentId]: {\n                  ...this.state.tree[currentId],\n                  childrenActions: actions,\n                },\n                ...toAdd,\n              },\n              algoState: 1,\n              height: this.state.height + (actions.length - 1),\n            })\n          }\n          break\n        case 1:\n          currentId = this.state.stateId\n          actions = this.state.tree[currentId].childrenActions\n          actionIndex = 0\n          let newId\n          while (actionIndex < actions.length) {\n            newId = currentId + actions[actionIndex]\n            if (this.state.tree[newId].winner === undefined) {\n              actionIndex = actions.length\n            }\n            actionIndex++\n          }\n\n          this.setState({\n            ...this.state,\n            tree: {\n              ...this.state.tree,\n              [currentId]: { ...this.state.tree[currentId], isSelected: false },\n              [newId]: { ...this.state.tree[newId], isSelected: true },\n            },\n            algoState: 0,\n            stateId: newId,\n          })\n\n          break\n\n        case 2:\n          currentId = this.state.stateId\n          if (currentId === \"\") {\n            //end of the algorithm\n            this.setState({\n              ...this.state,\n              tree: {\n                ...this.state.tree,\n                [currentId]: {\n                  ...this.state.tree[currentId],\n                  isSelected: false,\n                },\n              },\n              algoState: 6,\n            })\n            break\n          }\n          parentId = currentId.slice(0, -1)\n          actions = this.state.tree[parentId].childrenActions\n          actionIndex = 0\n          let childId\n          let explorationIsOver = true\n          let nextChildId\n          while (actionIndex < actions.length) {\n            childId = parentId + actions[actionIndex]\n            if (this.state.tree[childId].winner === undefined) {\n              explorationIsOver = false\n              nextChildId = childId\n              actionIndex = actions.length\n            }\n            actionIndex++\n          }\n\n          if (explorationIsOver) {\n            this.setState({\n              ...this.state,\n              tree: {\n                ...this.state.tree,\n                [currentId]: {\n                  ...this.state.tree[currentId],\n                  isSelected: false,\n                },\n                [parentId]: { ...this.state.tree[parentId], isSelected: true },\n              },\n              algoState: 3,\n              stateId: parentId,\n            })\n          } else {\n            this.setState({\n              ...this.state,\n              tree: {\n                ...this.state.tree,\n                [currentId]: {\n                  ...this.state.tree[currentId],\n                  isSelected: false,\n                },\n                [parentId]: { ...this.state.tree[parentId], isSelected: true },\n              },\n              algoState: 5,\n              stateId: nextChildId,\n            })\n          }\n\n          break\n\n        case 3:\n          currentId = this.state.stateId\n          let currentPlayer = game.getPlayer(this.state.tree[currentId].grid)\n          let childrenWinner = this.state.tree[currentId].childrenActions.map(\n            action => this.state.tree[currentId + action].winner\n          )\n\n          const winner = childrenWinner.includes(currentPlayer)\n            ? currentPlayer\n            : childrenWinner.includes(game.NULL)\n            ? game.NULL\n            : childrenWinner[0]\n\n          this.setState({\n            ...this.state,\n            tree: {\n              ...this.state.tree,\n              [currentId]: { ...this.state.tree[currentId], winner: winner },\n            },\n            algoState: 4,\n            childrenWinner: childrenWinner,\n          })\n          break\n\n        case 4:\n          currentId = this.state.stateId\n          this.setState({\n            ...this.state,\n            tree: {\n              ...this.state.tree,\n              [currentId]: { ...this.state.tree[currentId], retracted: true },\n            },\n            algoState: 2,\n            height:\n              this.state.height -\n              this.state.tree[currentId].childrenActions.length +\n              1,\n          })\n          break\n\n        case 5:\n          currentId = this.state.stateId\n          parentId = currentId.slice(0, -1)\n          this.setState({\n            ...this.state,\n            tree: {\n              ...this.state.tree,\n              [currentId]: { ...this.state.tree[currentId], isSelected: true },\n              [parentId]: { ...this.state.tree[parentId], isSelected: false },\n            },\n            algoState: 0,\n          })\n          break\n      }\n    }\n  }\n\n  traduction(translation) {\n    switch (this.state.algoState) {\n      case 0:\n        return translation.case0\n      case 1:\n        return translation.case1\n\n      case 2:\n        return translation.case2\n\n      case 3:\n        return translation.case3\n\n      case 4:\n        const player = game.getPlayer(this.state.tree[this.state.stateId].grid)\n        // const adversary = game.getAdversary(player);\n        const childrenWinner = this.state.childrenWinner\n        let [winning, nulle] = [\n          childrenWinner.filter(x => x === player).length,\n          // childrenWinner.filter(x => x === adversary).length,\n          childrenWinner.filter(x => x === game.NULL).length,\n        ]\n        const computation =\n          winning > 0\n            ? `${translation.case4.winningIntro} ${\n                winning > 1 ? translation.are : translation.is\n              } ${winning} ${\n                winning > 1\n                  ? translation.case4.winnings\n                  : translation.case4.winning\n              }`\n            : nulle > 0\n            ? `${translation.case4.nullIntro} ${nulle} ${\n                nulle > 1 ? translation.are : translation.is\n              } ${nulle > 1 ? translation.case4.nulls : translation.case4.null}`\n            : translation.case4.loosing\n        return (\n          <>\n            <p>\n              {translation.case4.intro}\n              <span className={\"player-\" + player}>{player}</span>{\" \"}\n              {`${translation.has} `}\n              {childrenWinner.length} {translation.case4.possibleActions}\n            </p>\n            <p>{computation}</p>\n          </>\n        )\n\n      case 5:\n        return translation.case5\n\n      case 6:\n        return translation.case6\n\n      default:\n        break\n    }\n  }\n\n  toogleHeightLimited() {\n    return () => {\n      this.setState({\n        ...this.state,\n        heightLimited: !this.state.heightLimited,\n      })\n    }\n  }\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n\n    const SIZE = 75\n    const treePositions = treeToPosition(this.state.tree)\n    const height = treePositions.reduce((t, x) => Math.max(t, x.y), 0)\n    return (\n      <div\n        onKeyDown={event => {\n          if (event.key === \"ArrowRight\") {\n            this.next()()\n          }\n        }}\n        tabIndex=\"0\"\n      >\n        <button onClick={this.next()}>{translation.next}</button>\n\n        <div\n          className={`${\n            this.state.heightLimited ? \"limit-height\" : \"free-height\"\n          } robot-left`}\n        >\n          <svg\n            viewBox={`0 0 1000 ${100 * (height + 1)}`}\n            style={{ width: \"100%\" }}\n          >\n            {treePositions.map(grid => (\n              <React.Fragment key={grid.id}>\n                <Board\n                  width={SIZE}\n                  height={SIZE}\n                  state={grid.grid}\n                  transform={`translate(${12 + grid.x * 100},${12 +\n                    grid.y * 100})`}\n                  winner={grid.isSelected ? \"selected\" : grid.winner}\n                  victory={game.getVictory(grid.grid)}\n                  addedIndex={\n                    grid.id && parseInt(grid.id.charAt(grid.id.length - 1))\n                  }\n                />\n                {grid.parent && (\n                  <Link\n                    x0={14 + grid.parent[0] * 100 + SIZE}\n                    y0={12 + grid.parent[1] * 100 + SIZE / 2}\n                    x1={10 + grid.x * 100}\n                    y1={12 + grid.y * 100 + SIZE / 2}\n                  />\n                )}\n              </React.Fragment>\n            ))}\n          </svg>\n        </div>\n        <div\n          style={{\n            width: \"30%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n          }}\n          className=\"robot-speak\"\n        >\n          <p>\n            {this.traduction(translation)} <span className=\"cursor\">O</span>\n          </p>\n        </div>\n        {100 * (height + 1) > 500 && (\n          <button\n            onClick={this.toogleHeightLimited()}\n            className=\"treeExtension\"\n          >\n            {this.state.heightLimited\n              ? translation.extend\n              : translation.retract}\n          </button>\n        )}\n      </div>\n    )\n  }\n}\nexport default TreeSearch\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzEuNjEwMzYxbW0iCiAgIGhlaWdodD0iNDIuNTczMjM1bW0iCiAgIHZpZXdCb3g9IjAgMCAzMS42MTAzNjEgNDIuNTczMjM1IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc4IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjQgKDMzZmVjNDAsIDIwMTktMDEtMTYpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJodW1hbi5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMyIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIyLjY1MjEwNzYiCiAgICAgaW5rc2NhcGU6Y3g9IjY4LjQzNDEwNiIKICAgICBpbmtzY2FwZTpjeT0iODIuOTg0MDMzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTg1MyIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI1IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxNTQxIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxMTA3IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGUgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05MC42NDg3NzYsLTEzLjEwNDYyMSkiPgogICAgPGcKICAgICAgIGlkPSJnNDYwNSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMzgwMTc2NikiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjEuMzIyOTE2Njc7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiPgogICAgICA8cGF0aAogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBpZD0icGF0aDQ1NTQiCiAgICAgICAgIGQ9Ik0gMTAwLjMzNzM1LDIxLjU5NzgyOSBWIDI2LjY2MjY0IgogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjMyMjkxNjY3O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjMyMjkxNjY3O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIDExMS44MTAyMSwyMS41OTc4MjkgViAyNi42NjI2NCIKICAgICAgICAgaWQ9InBhdGg0NTU2IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgPC9nPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMzIyOTE2Njc7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNDU2NCIKICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgIHNvZGlwb2RpOmN4PSIxMDYuNTA4MjgiCiAgICAgICBzb2RpcG9kaTpjeT0iMzIuMDA1NjUzIgogICAgICAgc29kaXBvZGk6cng9IjkuNTA0ODE4OSIKICAgICAgIHNvZGlwb2RpOnJ5PSI5LjUwNDgxODkiCiAgICAgICBzb2RpcG9kaTpzdGFydD0iMCIKICAgICAgIHNvZGlwb2RpOmVuZD0iMy4xNDE1OTI3IgogICAgICAgZD0ibSAxMTYuMDEzMSwzMi4wMDU2NTMgYSA5LjUwNDgxODksOS41MDQ4MTg5IDAgMCAxIC00Ljc1MjQxLDguMjMxNDE1IDkuNTA0ODE4OSw5LjUwNDgxODkgMCAwIDEgLTkuNTA0ODIsMCA5LjUwNDgxODksOS41MDQ4MTg5IDAgMCAxIC00Ljc1MjQxMSwtOC4yMzE0MTUgbCA5LjUwNDgyMSwwIHoiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAxMjAuMjU2MjIsNTUuMDA2OTc3IGMgMC4wMDgsLTUuMzc2NTEgLTEuNzEzMzUsLTEwLjQ5MDI2NiAtNC43MTQ0NCwtMTQuMDAyMjQ0IG0gLTE3LjkxMTA0NywwLjE5NjM2OCBjIC0yLjg5NjkyMywzLjQ5MjUyNyAtNC41NTcxOTksOC40OTYyOSAtNC41NjM1NDcsMTMuNzUzNjgyIgogICAgICAgaWQ9InBhdGg0NTczIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjYyIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMzIyOTE2Njc7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQ1NTIiCiAgICAgICBjeD0iMTA2LjQ1Mzk2IgogICAgICAgY3k9IjI4LjkwOTgwMSIKICAgICAgIHI9IjE1LjE0MzcyMyIgLz4KICA8L2c+Cjwvc3ZnPgo=\"","import React from \"react\"\nimport classes from \"./Board.module.scss\"\n\nconst Board = ({\n  width,\n  height,\n  state,\n  winner,\n  solution,\n  transform,\n  localAction,\n  globalAction,\n  victory,\n  addedIndex,\n}) => (\n  <g\n    className={`${classes.board} ${classes.winner} ${\n      globalAction ? classes.pointerClickable : \"\"\n    }`}\n    transform={transform}\n    onClick={globalAction ? globalAction() : undefined}\n  >\n    <rect\n      x={0}\n      y={0}\n      width={width}\n      height={height}\n      className={`${\n        winner\n          ? winner.toLowerCase() === \"x\"\n            ? classes.winnerX\n            : winner.toLowerCase() === \"o\"\n            ? classes.winnerO\n            : winner.toLowerCase() === \".\"\n            ? classes.winnerUnKnoned\n            : winner.toLowerCase() === \"n\"\n            ? classes.winnerNull\n            : winner.toLowerCase() === \"n\"\n            ? classes.winnerSelected\n            : \"\"\n          : \"\"\n      }`}\n\n      // onClick={globalAction && globalAction()}\n    />\n    <g className={classes.elements}>\n      {state.split(\"\").map((player, index) => {\n        let x = width / 6 + (Math.floor(index % 3) * width) / 3\n        let y = height / 6 + (Math.floor(index / 3) * height) / 3\n\n        switch (player) {\n          case \"X\":\n            return (\n              <g\n                key={index}\n                className={`${classes.X} ${\n                  addedIndex === index ? classes.justAdded : \"\"\n                }`}\n              >\n                <line\n                  x1={x - (width * 0.4) / 3}\n                  y1={y - (height * 0.4) / 3}\n                  x2={x + (width * 0.4) / 3}\n                  y2={y + (height * 0.4) / 3}\n                />\n                <line\n                  x1={x + (width * 0.4) / 3}\n                  y1={y - (height * 0.4) / 3}\n                  x2={x - (width * 0.4) / 3}\n                  y2={y + (height * 0.4) / 3}\n                />\n              </g>\n            )\n          case \"O\":\n            return (\n              <g\n                key={index}\n                className={`${classes.O} ${\n                  addedIndex === index ? classes.justAdded : \"\"\n                }`}\n              >\n                <circle r={(Math.min(width, height) * 0.4) / 3} cx={x} cy={y} />\n              </g>\n            )\n\n          default:\n            return (\n              <rect\n                key={index}\n                x={x - (width * 0.4) / 3}\n                y={y - (height * 0.4) / 3}\n                width={(width * 0.8) / 3}\n                height={(height * 0.8) / 3}\n                className={`${solution &&\n                  (solution[index] === \"x\"\n                    ? classes.solutionX\n                    : solution[index] === \"o\"\n                    ? classes.solutionO\n                    : solution[index] === \".\"\n                    ? classes.solutionUnKnoned\n                    : solution[index] === \"n\"\n                    ? classes.solutionNull\n                    : solution[index] === \"n\"\n                    ? classes.solutionSelected\n                    : classes.empty)} ${\n                  !solution && localAction ? classes.clickable : \"\"\n                } `}\n                onClick={localAction ? localAction(index) : undefined}\n              />\n            )\n        }\n      })}\n    </g>\n    <g className={classes.grid}>\n      <line x1={(width * 1) / 3} y1=\"0\" x2={(width * 1) / 3} y2={height} />\n      <line x1={(width * 2) / 3} y1=\"0\" x2={(width * 2) / 3} y2={height} />\n\n      <line x1=\"0\" y1={(height * 1) / 3} x2={width} y2={(height * 1) / 3} />\n      <line x1=\"0\" y1={(height * 2) / 3} x2={width} y2={(height * 2) / 3} />\n    </g>\n    {victory && victory.length === 2 && (\n      <line\n        x1={width / 6 + (width * victory[1].col) / 3}\n        y1={height / 6 + (height * victory[1].line) / 3}\n        x2={width / 6 + (width * victory[0].col) / 3}\n        y2={height / 6 + (height * victory[0].line) / 3}\n        className={classes.winningLine}\n      />\n    )}\n  </g>\n)\n\nexport default Board\n","import Board from'./Board.view'\n\nexport default Board","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport { completTree as tree } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport { perfectPlayer } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport human from \"../../images/human.svg\"\nimport robot from \"../../images/robot.svg\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\nconst DELAY = 2000\n\nclass PlayableComputerView extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      grid: \".........\",\n      solution: tree[\".........\"].ends,\n      currentPlayer: 0,\n      robot: [1],\n      firstPlayer: 0,\n      showRobot: true,\n      showHuman: false,\n    }\n    this.clickable = true\n\n    this.waitingAction = null\n\n    this.robotChoice = this.props.robotChoice\n      ? this.props.robotChoice\n      : perfectPlayer\n  }\n\n  componentDidMount() {\n    this.play(this)\n  }\n\n  play(contxt) {\n    let action\n    let newGrid\n    if (\n      contxt.state.robot.includes(contxt.state.currentPlayer) &&\n      !game.isFinished(contxt.state.grid)\n    ) {\n      action = contxt.robotChoice(contxt.state.grid)\n      newGrid = game.play(contxt.state.grid, action)\n      contxt.waitingAction = setTimeout(() => {\n        contxt.setState(\n          {\n            solution: tree[newGrid].ends,\n            grid: newGrid,\n            currentPlayer: game.getPlayerID(newGrid),\n          },\n          () => {\n            contxt.play(contxt)\n          }\n        )\n      }, DELAY)\n    } else {\n      this.clickable = true\n    }\n  }\n  playerAction() {\n    if (\n      !game.isFinished(this.state.grid) &&\n      !this.state.robot.includes(this.state.currentPlayer)\n    ) {\n      return action => {\n        return this.state.robot.includes(this.state.currentPlayer)\n          ? () => null\n          : () => {\n              if (this.clickable) {\n                const newGrid = game.play(this.state.grid, action)\n                this.setState(\n                  {\n                    solution: tree[newGrid].ends,\n                    grid: newGrid,\n                    currentPlayer: game.getPlayerID(newGrid),\n                  },\n                  () => {\n                    this.play(this)\n                  }\n                )\n              }\n            }\n      }\n    } else {\n      return null\n    }\n  }\n\n  reset() {\n    return () => {\n      clearTimeout(this.waitingAction)\n      this.setState(\n        {\n          solution: tree[\".........\"].ends,\n          grid: \".........\",\n          currentPlayer: 0,\n        },\n        () => {\n          this.waitingAction = setTimeout(() => {\n            this.play(this)\n          }, DELAY)\n        }\n      )\n    }\n  }\n\n  toogleVisibility(who) {\n    return () => {\n      // eslint-disable-next-line default-case\n      switch (who) {\n        case \"robot\":\n          this.setState({ showRobot: !this.state.showRobot })\n          break\n        case \"human\":\n          this.setState({ showHuman: !this.state.showHuman })\n          break\n      }\n    }\n  }\n\n  addRobot(playerId) {\n    return () => {\n      if (!this.state.robot.includes(playerId)) {\n        clearTimeout(this.waitingAction)\n        this.setState(\n          {\n            solution: tree[\".........\"].ends,\n            grid: \".........\",\n            currentPlayer: 0,\n            robot: [...this.state.robot, playerId],\n          },\n          () => {\n            this.waitingAction = setTimeout(() => {\n              this.play(this)\n            }, DELAY)\n          }\n        )\n      }\n    }\n  }\n  removeRobot(playerId) {\n    return () => {\n      if (this.state.robot.includes(playerId)) {\n        clearTimeout(this.waitingAction)\n        this.setState(\n          {\n            solution: tree[\".........\"].ends,\n            grid: \".........\",\n            currentPlayer: 0,\n            robot: this.state.robot.filter(robotId => robotId !== playerId),\n          },\n          () => {\n            this.waitingAction = setTimeout(() => {\n              this.play(this)\n            }, DELAY)\n          }\n        )\n      }\n    }\n  }\n\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ height: \"300px\", width: \"300px\" }}>\n          <Board\n            width={200}\n            height={200}\n            state={this.state.grid}\n            transform=\"translate(0,0)\"\n            localAction={this.playerAction()}\n            winner={game.getWinner(this.state.grid)}\n            solution={\n              ((this.state.showRobot &&\n                this.state.robot.includes(this.state.currentPlayer)) ||\n                (this.state.showHuman &&\n                  !this.state.robot.includes(this.state.currentPlayer))) &&\n              this.state.solution\n            }\n            victory={game.getVictory(this.state.grid)}\n          />\n        </svg>\n        <div className=\"settings\">\n          <div className=\"horizontal-selection\">\n            <p>{translation.first_player}</p>\n            <div\n              className={`button-left ${\n                this.state.robot.includes(0) ? \"selected\" : \"unselected\"\n              }`}\n              onClick={this.addRobot(0)}\n            >\n              <img src={robot} alt=\"robot-icon\" />\n            </div>\n            <div\n              className={`button-right ${\n                !this.state.robot.includes(0) ? \"selected\" : \"unselected\"\n              }`}\n              onClick={this.removeRobot(0)}\n            >\n              <img src={human} alt=\"human-icon\" />\n            </div>\n          </div>\n\n          <div className=\"horizontal-selection\">\n            <p>{translation.second_player}</p>\n            <div\n              className={`button-left ${\n                this.state.robot.includes(1) ? \"selected\" : \"unselected\"\n              }`}\n              onClick={this.addRobot(1)}\n            >\n              <img src={robot} alt=\"robot-icon\" />\n            </div>\n            <div\n              className={`button-right ${\n                !this.state.robot.includes(1) ? \"selected\" : \"unselected\"\n              }`}\n              onClick={this.removeRobot(1)}\n            >\n              <img src={human} alt=\"human-icon\" />\n            </div>\n          </div>\n\n          <div className=\"horizontal-selection\">\n            <p>{translation.show_solution}</p>\n            <div\n              className={`button-left ${\n                this.state.showRobot\n                  ? \"selected selected-selectable\"\n                  : \"unselected\"\n              }`}\n              onClick={this.toogleVisibility(\"robot\")}\n            >\n              <img src={robot} alt=\"robot-icon\" />\n            </div>\n            <div\n              className={`button-right ${\n                this.state.showHuman\n                  ? \"selected selected-selectable\"\n                  : \"unselected\"\n              }`}\n              onClick={this.toogleVisibility(\"human\")}\n            >\n              <img src={human} alt=\"human-icon\" />\n            </div>\n          </div>\n\n          <div className=\"horizontal-selection\">\n            <button onClick={this.reset()}>{translation.reset}</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default PlayableComputerView\n","import React from \"react\"\n\nconst Link = ({ x0, y0, x1, y1 }) => (\n  <path\n    style={{\n      stroke: \"var(--gray-700)\",\n      strokeWidth: 3,\n      fill: \"none\",\n    }}\n    d={`M${x0} ${y0} H${(x1 + x0) / 2} V${y1} H${x1}`}\n  />\n)\n\nexport default Link\n","import Link from'./Link.view'\n\nexport default Link","export default class Game {\n  PLAYERS = [\"X\", \"O\"];\n  NULL = \"n\";\n  EMPTY = \".\";\n  UNKNOW = \"?\";\n\n  actions(state) {\n    let output = [];\n    for (let index = 0; index < 9; index++) {\n      if (state[index] === \".\") {\n        output.push(index);\n      }\n    }\n    return output;\n  }\n\n  getPlayerID(stateOrPlayer) {\n    if (stateOrPlayer.length === 9) {\n      let step = 0;\n      for (let i = 0; i < 9; i++) {\n        if (stateOrPlayer[i] !== \".\") {\n          step++;\n        }\n      }\n      return step % 2;\n    }\n    else if(stateOrPlayer.length === 1){\n        return this.PLAYERS.indexOf(stateOrPlayer);\n    }\n    else{\n        return null;\n    }\n  }\n\n  getPlayer(state) {\n    return this.PLAYERS[this.getPlayerID(state)];\n  }\n\n  getAdversary(player) {\n    if (player === this.PLAYERS[0]) {\n      return this.PLAYERS[1];\n    }\n    if (player === this.PLAYERS[1]) {\n      return this.PLAYERS[0];\n    }\n  }\n\n\n  play(state, action) {\n    let player = this.getPlayer(state);\n    let newState =\n      state.substring(0, action) + player + state.substring(action + 1);\n    return newState;\n  }\n\n  isFull(state) {\n    for (let i = 0; i < 9; i++) {\n      if (state[i] === \".\") {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  isFinished(state) {\n    for (let i = 0; i < 3; i++) {\n      if (\n        state[3 * i] === state[3 * i + 1] &&\n        state[3 * i + 1] === state[3 * i + 2] &&\n        state[3 * i] !== this.EMPTY\n      ) {\n        return true;\n      }\n      if (\n        state[i] === state[3 + i] &&\n        state[3 + i] === state[6 + i] &&\n        state[i] !== this.EMPTY\n      ) {\n        return true;\n      }\n    }\n    if (\n      state[0] === state[4] &&\n      state[4] === state[8] &&\n      state[0] !== this.EMPTY\n    ) {\n      return true;\n    }\n    if (\n      state[2] === state[4] &&\n      state[4] === state[6] &&\n      state[2] !== this.EMPTY\n    ) {\n      return true;\n    }\n    return this.isFull(state);\n  }\n\n  getWinner(state) {\n    for (let i = 0; i < 3; i++) {\n      if (\n        state[3 * i] === state[3 * i + 1] &&\n        state[3 * i + 1] === state[3 * i + 2] &&\n        state[3 * i] !== this.EMPTY\n      ) {\n        return state[3 * i];\n      }\n      if (\n        state[i] === state[3 + i] &&\n        state[3 + i] === state[6 + i] &&\n        state[i] !== this.EMPTY\n      ) {\n        return state[i];\n      }\n    }\n    if (\n      state[0] === state[4] &&\n      state[4] === state[8] &&\n      state[0] !== this.EMPTY\n    ) {\n      return state[0];\n    }\n    if (\n      state[2] === state[4] &&\n      state[4] === state[6] &&\n      state[2] !== this.EMPTY\n    ) {\n      return state[2];\n    }\n    if (this.isFull(state)) {\n      return this.NULL;\n    }\n    return this.UNKNOW;\n  }\n\n  getVictory(state) {\n    for (let i = 0; i < 3; i++) {\n      if (\n        state[3 * i] === state[3 * i + 1] &&\n        state[3 * i + 1] === state[3 * i + 2] &&\n        state[3 * i] !== this.EMPTY\n      ) {\n        return [{col: 0, line:i},{col: 2, line:i}];\n      }\n      if (\n        state[i] === state[3 + i] &&\n        state[3 + i] === state[6 + i] &&\n        state[i] !== this.EMPTY\n      ) {\n        return [{col: i, line:0},{col: i, line:2}];\n      }\n    }\n    if (\n      state[0] === state[4] &&\n      state[4] === state[8] &&\n      state[0] !== this.EMPTY\n    ) {\n      return [{col: 0, line:0},{col: 2, line:2}];\n    }\n    if (\n      state[2] === state[4] &&\n      state[4] === state[6] &&\n      state[2] !== this.EMPTY\n    ) {\n      return [{col: 2, line:0},{col: 0, line:2}];\n    }\n    return [];\n  }\n}\n","import Link from'./Link.view'\n\nexport default Link","import React from \"react\"\n\nconst Link = ({ x0, y0, x1, y1 }) => (\n  <path\n    style={{\n      stroke: \"var(--gray-700)\",\n      strokeWidth: 3,\n      fill: \"none\",\n    }}\n    d={`M${x0} ${y0} V${(y1 + y0) / 2} H${x1} V${y1}`}\n  />\n)\n\nexport default Link\n","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport Link from \"src/components/tic-tac-toe/atoms/LinkVertical\"\nimport { completTree as tree } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nclass RecurrenceExample extends React.Component {\n  constructor(props) {\n    super(props)\n    this.gridsInit = [\"...XXO.O.\", \"OX.X...O.\", \"X..X..OO.\"]\n    this.childsInit = this.gridsInit.map(state =>\n      game.actions(state).map(action => game.play(state, action))\n    )\n\n    this.state = {\n      grids: this.gridsInit,\n      childs: this.childsInit,\n    }\n  }\n\n  playerAction(boardIndex, newGrid) {\n    if (newGrid) {\n      const children = game.isFinished(newGrid)\n        ? []\n        : game.actions(newGrid).map(action => game.play(newGrid, action))\n      return () => () => {\n        this.setState({\n          grids: [\n            ...this.state.grids.slice(0, boardIndex),\n            newGrid,\n            ...this.state.grids.slice(boardIndex + 1),\n          ],\n          childs: [\n            ...this.state.childs.slice(0, boardIndex),\n            children,\n            ...this.state.childs.slice(boardIndex + 1),\n          ],\n        })\n      }\n    } else {\n      return action => () => {\n        const newGrid = game.play(this.state.grids[boardIndex], action)\n        const children = game.isFinished(newGrid)\n          ? []\n          : game.actions(newGrid).map(action => game.play(newGrid, action))\n        this.setState({\n          grids: [\n            ...this.state.grids.slice(0, boardIndex),\n            newGrid,\n            ...this.state.grids.slice(boardIndex + 1),\n          ],\n          childs: [\n            ...this.state.childs.slice(0, boardIndex),\n            children,\n            ...this.state.childs.slice(boardIndex + 1),\n          ],\n        })\n      }\n    }\n  }\n\n  reset() {\n    return () => {\n      this.setState({\n        grids: this.gridsInit,\n        childs: this.childsInit,\n      })\n    }\n  }\n\n  render() {\n    const maxChildren = Math.max(\n      Math.max(this.state.childs[0].length, this.state.childs[1].length),\n      this.state.childs[2].length\n    )\n    const totalWidth = 1000\n    const paritalWidth = totalWidth / 3\n    const maxWidth = 100\n    const childWidth = Math.min(maxWidth, paritalWidth / (maxChildren + 3))\n\n    const translation = translate[this.props.lang || \"en\"]\n\n    return (\n      <>\n        <svg viewBox={`0 0 ${totalWidth} 300`} style={{ width: \"100%\" }}>\n          {this.state.grids.map((grid, gridIndex) => (\n            <React.Fragment key={gridIndex + \"-\" + grid}>\n              <Board\n                width={maxWidth}\n                height={maxWidth}\n                state={grid}\n                transform={`translate(${(gridIndex + 0.5) * paritalWidth -\n                  maxWidth / 2},10)`}\n                localAction={\n                  !game.isFinished(grid) && this.playerAction(gridIndex)\n                }\n                winner={tree[grid].winner}\n                solution={tree[grid].ends}\n                victory={game.getVictory(grid)}\n              />\n              {this.state.childs[gridIndex].map((childGrid, childIndex) => {\n                const nbChildren = this.state.childs[gridIndex].length\n                return (\n                  <React.Fragment\n                    key={\n                      gridIndex +\n                      \"-\" +\n                      grid +\n                      \"-\" +\n                      childIndex +\n                      \"-\" +\n                      childGrid\n                    }\n                  >\n                    <Board\n                      width={childWidth}\n                      height={childWidth}\n                      state={childGrid}\n                      transform={`translate(${\n                        nbChildren === 1\n                          ? (gridIndex + 0.5) * paritalWidth - childWidth / 2\n                          : gridIndex * paritalWidth +\n                            ((childIndex + 1) / (nbChildren + 1)) *\n                              (paritalWidth - childWidth)\n                      },200)`}\n                      globalAction={this.playerAction(gridIndex, childGrid)}\n                      winner={tree[childGrid].winner}\n                      solution={tree[grid].ends}\n                      victory={game.getVictory(childGrid)}\n                    />\n                    <Link\n                      x0={(gridIndex + 0.5) * paritalWidth}\n                      y0={10 + maxWidth}\n                      x1={\n                        nbChildren === 1\n                          ? (gridIndex + 0.5) * paritalWidth\n                          : gridIndex * paritalWidth +\n                            ((childIndex + 1) / (nbChildren + 1)) *\n                              (paritalWidth - childWidth) +\n                            childWidth / 2\n                      }\n                      y1={200}\n                    />\n                  </React.Fragment>\n                )\n              })}\n            </React.Fragment>\n          ))}\n        </svg>\n        <button onClick={this.reset()}>{translation.reset}</button>\n      </>\n    )\n  }\n}\nexport default RecurrenceExample\n","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport { perfectPlayer } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport human from \"../../images/human.svg\"\nimport robot from \"../../images/robot.svg\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nconst DELAY = 500\nclass PlayableIntro extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      grid: \".........\",\n      currentPlayer: 0,\n      robot: [0],\n    }\n    this.clickable = true\n    this.waitingAction = null\n    this.robotChoice = this.props.robotChoice\n      ? this.props.robotChoice\n      : perfectPlayer\n  }\n\n  componentDidMount() {\n    this.play(this)\n  }\n\n  play(contxt) {\n    let action\n    let newGrid\n    if (\n      contxt.state.robot.includes(contxt.state.currentPlayer) &&\n      !game.isFinished(contxt.state.grid)\n    ) {\n      action = contxt.robotChoice(contxt.state.grid)\n      newGrid = game.play(contxt.state.grid, action)\n      contxt.waitingAction = setTimeout(() => {\n        contxt.setState(\n          {\n            ...this.state,\n            grid: newGrid,\n            currentPlayer: game.getPlayerID(newGrid),\n          },\n          () => {\n            contxt.play(contxt)\n          }\n        )\n      }, DELAY)\n    } else {\n      this.clickable = true\n    }\n  }\n  playerAction() {\n    if (\n      !game.isFinished(this.state.grid) &&\n      !this.state.robot.includes(this.state.currentPlayer)\n    ) {\n      return action => {\n        return this.state.robot.includes(this.state.currentPlayer)\n          ? () => null\n          : () => {\n              if (this.clickable) {\n                const newGrid = game.play(this.state.grid, action)\n                this.setState(\n                  {\n                    grid: newGrid,\n                    currentPlayer: game.getPlayerID(newGrid),\n                  },\n                  () => {\n                    this.play(this)\n                  }\n                )\n              }\n            }\n      }\n    } else {\n      return null\n    }\n  }\n\n  reset() {\n    return () => {\n      clearTimeout(this.waitingAction)\n      this.setState(\n        {\n          ...this.state,\n          grid: \".........\",\n          currentPlayer: 0,\n        },\n        () => {\n          this.waitingAction = setTimeout(() => {\n            this.play(this)\n          }, DELAY)\n        }\n      )\n    }\n  }\n\n  setRobotRole(playerId) {\n    if (this.state.robot[0] !== playerId) {\n      clearTimeout(this.waitingAction)\n      this.setState(\n        {\n          ...this.state,\n          grid: \".........\",\n          currentPlayer: 0,\n          robot: [playerId],\n        },\n        () => {\n          this.waitingAction = setTimeout(() => {\n            this.play(this)\n          }, DELAY)\n        }\n      )\n    }\n  }\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ height: \"300px\", width: \"300px\" }}>\n          <Board\n            width={200}\n            height={200}\n            state={this.state.grid}\n            transform=\"translate(0,0)\"\n            localAction={this.playerAction()}\n            winner={game.getWinner(this.state.grid)}\n            victory={game.getVictory(this.state.grid)}\n          />\n        </svg>\n        <div className=\"settings\">\n          <div className=\"horizontal-selection\">\n            <p>{translation.first_player}</p>\n            <div\n              className={`button-left ${\n                this.state.robot[0] === 0 ? \"selected\" : \"unselected\"\n              }`}\n              onClick={() => this.setRobotRole(0)}\n            >\n              <img src={robot} alt=\"robot-icon\" />\n            </div>\n            <div\n              className={`button-right ${\n                this.state.robot[0] !== 0 ? \"selected\" : \"unselected\"\n              }`}\n              onClick={() => this.setRobotRole(1)}\n            >\n              <img src={human} alt=\"human-icon\" />\n            </div>\n          </div>\n          <div className=\"horizontal-selection\">\n            <button onClick={this.reset()}>{translation.reset}</button>\n          </div>\n        </div>{\" \"}\n      </div>\n    )\n  }\n}\nexport default PlayableIntro\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzUuOTUzNzczbW0iCiAgIGhlaWdodD0iNDIuOTk2OTE0bW0iCiAgIHZpZXdCb3g9IjAgMCAzNS45NTM3NzMgNDIuOTk2OTE0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc4IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjQgKDMzZmVjNDAsIDIwMTktMDEtMTYpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJyb2JvdC5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMyIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIyLjQzNTcxNjIiCiAgICAgaW5rc2NhcGU6Y3g9IjIwNi44ODgzNCIKICAgICBpbmtzY2FwZTpjeT0iNjEuNTk0NjQ1IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTg1MyIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI1IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxNTQxIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIxMTA3IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGUgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMC4zODY1NjcsLTEzLjEwNDYyKSI+CiAgICA8cmVjdAogICAgICAgaWQ9InJlY3QzNzEzIgogICAgICAgd2lkdGg9IjM0Ljg0NTE4OCIKICAgICAgIGhlaWdodD0iMjUuMDQ4MjM3IgogICAgICAgeD0iMzAuOTQwODU5IgogICAgICAgeT0iMjEuOTg4NTI3IgogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgcnk9IjMuMTY1MjAxMiIgLz4KICAgIDxnCiAgICAgICBpZD0iZzIzODkiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjUyMDE3NzkxKSIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIGlkPSJwYXRoNDUyMCIKICAgICAgICAgZD0ibSA0Mi4xNjM2NzEsMjcuODI3NjA3IGMgMCw2LjE3NzY3NSAwLDYuMjc0MiAwLDYuMjc0MiIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbGluZWNhcDpzcXVhcmU7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMzIyOTE2Njc7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJtIDUzLjUyMjg3OSwyNy44Mjc2MDcgYyAwLDYuMTc3Njc1IDAsNi4yNzQyIDAsNi4yNzQyIgogICAgICAgICBpZD0icGF0aDQ1MjIiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICA8L2c+CiAgICA8ZwogICAgICAgaWQ9Imc0NTM4IgogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzU2MTMsMCwwLDAuNjQwMjg4MjQsLTEuNTM4NzY0NywxNi40NDM4MykiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjEuNjI0NTk4MjQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiPgogICAgICA8cGF0aAogICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjYyNDU5ODI0O3N0cm9rZS1saW5lY2FwOnNxdWFyZTtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0ibSA0NC43MzcxMzMsNDkuMDQ0ODQ0IGMgMCw3LjM1NTY0OCAwLDcuNDcwNTc5IDAsNy40NzA1NzkiCiAgICAgICAgIGlkPSJwYXRoNDUzMiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgaWQ9InBhdGg0NTM0IgogICAgICAgICBkPSJtIDUxLjYzNTE5OSw0OS4wNDQ4NDQgYyAwLDcuMzU1NjQ4IDAsNy40NzA1NzkgMCw3LjQ3MDU3OSIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS42MjQ1OTgyNDtzdHJva2UtbGluZWNhcDpzcXVhcmU7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8L2c+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSA1OS4wMTM5MTksMjIuMDYxNjE2IFYgMTQuMzgwNTYzIgogICAgICAgaWQ9InBhdGg0NTQwIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgIDxlbGxpcHNlCiAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjMyMjkxNjY3O3N0cm9rZS1saW5lY2FwOnNxdWFyZTtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0NTQyIgogICAgICAgY3g9IjU5LjAxMzkyIgogICAgICAgY3k9IjE1LjM3OTEiCiAgICAgICByeD0iMS43NjE0NDI5IgogICAgICAgcnk9IjEuODE0ODE5OCIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjMyMjkxNjY3O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAzOC4yNDc1NTksMzguNzE1NDYyIGMgMS41MzE3MTYsMi43ODgwOSA0LjY0NjA0OSwyLjcyNjEzNyA2LjU1NTA3MiwyLjc5NjA4OSBoIDcuMzk2NDUxIGMgMi4wNjE0MDgsLTAuMDE3NCA0LjU5ODQ5MiwtMC4wNjM1NiA2LjI3OTg3NywtMi43OTYwODkiCiAgICAgICBpZD0icGF0aDQ1NDgiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwIgogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4zMjI5MTY2NztzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgeT0iMjQuOTUzMjAxIgogICAgICAgeD0iMzMuOTY0NzMzIgogICAgICAgaGVpZ2h0PSIxOS4xMTg4OTEiCiAgICAgICB3aWR0aD0iMjguNzk3NDQxIgogICAgICAgaWQ9InJlY3Q0NjA3IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMzIyOTE2Njc7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDM2LjQ2MTk4OSw1NS40MDA0OTcgdiAtMi45NjgzNTQgaCAyMy43NzI5NTkgdiAzLjAwNTc3NCB6IgogICAgICAgaWQ9InJlY3QyMzkxIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2MiIC8+CiAgPC9nPgo8L3N2Zz4K\"","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport Link from \"src/components/tic-tac-toe/atoms/Link\"\nimport {\n  treeToPosition,\n  feelSolutions,\n  reduceToOpimalTree,\n} from \"src/components/tic-tac-toe/explanations/utils\"\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nclass CompletTree extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let treeRobot = {}\n\n    feelSolutions(treeRobot, \".........\", 0, props.robot)\n\n    let optTreeRobot = {}\n    reduceToOpimalTree(treeRobot, optTreeRobot, \"\", \".........\", 0, props.robot)\n    this.state = {\n      robot: props.robot,\n      tree: optTreeRobot,\n      initialTree: optTreeRobot,\n      height: optTreeRobot[\"\"].timeToWin,\n      heightLimited: true,\n    }\n  }\n\n  toogleChildrens(id) {\n    return () => () => {\n      this.setState({\n        tree: {\n          ...this.state.tree,\n          [id]: {\n            ...this.state.tree[id],\n            retracted: !this.state.tree[id].retracted,\n          },\n        },\n      })\n    }\n  }\n\n  reset() {\n    return () => {\n      this.setState({\n        ...this.state,\n        tree: this.state.initialTree,\n      })\n    }\n  }\n  toogleHeightLimited() {\n    return () => {\n      this.setState({\n        ...this.state,\n        heightLimited: !this.state.heightLimited,\n      })\n    }\n  }\n\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n    const SIZE = 75\n    const treePositions = treeToPosition(this.state.tree)\n    const height = treePositions.reduce((t, x) => Math.max(t, x.y), 0)\n    return (\n      <>\n        <div\n          className={this.state.heightLimited ? \"limit-height\" : \"free-height\"}\n        >\n          <svg\n            viewBox={`0 0 1000 ${100 * (height + 1)}`}\n            style={{ width: \"100%\" }}\n          >\n            {treePositions.map(state => (\n              <React.Fragment key={state.id}>\n                <Board\n                  width={SIZE}\n                  height={SIZE}\n                  state={state.grid}\n                  transform={`translate(${12 + state.x * 100},${12 +\n                    state.y * 100})`}\n                  globalAction={this.toogleChildrens(state.id)}\n                  winner={state.winner}\n                  victory={game.getVictory(state.grid)}\n                  addedIndex={\n                    state.id && parseInt(state.id.charAt(state.id.length - 1))\n                  }\n                />\n                {state.parent && (\n                  <Link\n                    x0={14 + state.parent[0] * 100 + SIZE}\n                    y0={12 + state.parent[1] * 100 + SIZE / 2}\n                    x1={10 + state.x * 100}\n                    y1={12 + state.y * 100 + SIZE / 2}\n                  />\n                )}\n              </React.Fragment>\n            ))}\n          </svg>\n        </div>\n        {100 * (height + 1) > 500 && (\n          <button\n            onClick={this.toogleHeightLimited()}\n            className=\"treeExtension\"\n          >\n            {this.state.heightLimited ? \"Extend\" : \"Retract\"}\n          </button>\n        )}\n        <button onClick={this.reset()}>{translation[\"reset\"]}</button>\n      </>\n    )\n  }\n}\nexport default CompletTree\n","import React from \"react\"\nimport Board from \"src/components/tic-tac-toe/atoms/Board\"\nimport Game from \"src/components/tic-tac-toe/explanations/utils/game\"\nimport Link from \"src/components/tic-tac-toe/atoms/Link\"\nimport { treeToPosition } from \"src/components/tic-tac-toe/explanations/utils\"\n\nimport translate from \"../../translation\"\n\nconst game = new Game()\n\nclass IntroTree extends React.Component {\n  constructor(props) {\n    super(props)\n    this.init = {\n      \"\": { grid: \".........\", childrenActions: [0] },\n      \"0\": { grid: \"X........\", childrenActions: [3] },\n      \"03\": { grid: \"X..O.....\", childrenActions: [8, 4] },\n      \"038\": { grid: \"X..O....X\", childrenActions: [4] },\n      \"0384\": { grid: \"X..OO...X\", childrenActions: [5] },\n      \"03845\": { grid: \"X..OOX..X\", childrenActions: [2] },\n      \"038452\": { grid: \"X.OOOX..X\", childrenActions: [6] },\n      \"0384526\": { grid: \"X.OOOXX.X\", childrenActions: [7] },\n      \"03845267\": { grid: \"X.OOOXXOX\", childrenActions: [1] },\n      \"038452671\": { grid: \"XXOOOXXOX\", childrenActions: [] },\n      \"034\": { grid: \"X..OX....\", childrenActions: [8] },\n      \"0348\": { grid: \"X..OX...O\", childrenActions: [1] },\n      \"03481\": { grid: \"XX.OX...O\", childrenActions: [2] },\n      \"034812\": { grid: \"XXOOX...O\", childrenActions: [7] },\n      \"0348127\": { grid: \"XXOOX..XO\", childrenActions: [] },\n    }\n    this.state = {\n      tree: this.init,\n      height: 2,\n      heightLimited: false,\n    }\n  }\n\n  playerAction(id, currentBoar) {\n    return action => () => {\n      const nextBoard = game.play(currentBoar, action)\n      const newId = id + action\n\n      const newHeight =\n        this.state.tree[id].childrenActions.length === 0\n          ? this.state.height\n          : this.state.height + 1\n\n      if (!this.state.tree[id].childrenActions.includes(action)) {\n        this.setState({\n          tree: {\n            ...this.state.tree,\n            [id]: {\n              grid: currentBoar,\n              childrenActions: [...this.state.tree[id].childrenActions, action],\n            },\n            [newId]: { grid: nextBoard, childrenActions: [] },\n          },\n          height: newHeight,\n        })\n      }\n    }\n  }\n\n  reset() {\n    return () => {\n      this.setState({\n        tree: this.init,\n        height: 2,\n      })\n    }\n  }\n\n  render() {\n    const translation = translate[this.props.lang || \"en\"]\n    const SIZE = 75\n    return (\n      <>\n        <div\n          className={this.state.heightLimited ? \"limit-height\" : \"free-height\"}\n        >\n          <svg\n            viewBox={`0 0 1000 ${100 * this.state.height}`}\n            style={{ width: \"100%\" }}\n          >\n            {treeToPosition(this.state.tree).map(grid => (\n              <React.Fragment key={grid.id}>\n                <Board\n                  width={SIZE}\n                  height={SIZE}\n                  state={grid.grid}\n                  transform={`translate(${12 + grid.x * 100},${12 +\n                    grid.y * 100})`}\n                  localAction={\n                    !game.isFinished(grid.grid) &&\n                    this.playerAction(grid.id, grid.grid)\n                  }\n                  winner={game.getWinner(grid.grid)}\n                  victory={game.getVictory(grid.grid)}\n                  addedIndex={\n                    grid.id && parseInt(grid.id.charAt(grid.id.length - 1))\n                  }\n                />\n                {grid.parent && (\n                  <Link\n                    x0={14 + grid.parent[0] * 100 + SIZE}\n                    y0={12 + grid.parent[1] * 100 + SIZE / 2}\n                    x1={10 + grid.x * 100}\n                    y1={12 + grid.y * 100 + SIZE / 2}\n                  />\n                )}\n              </React.Fragment>\n            ))}\n          </svg>\n        </div>\n        <button onClick={this.reset()}>{translation.reset}</button>\n      </>\n    )\n  }\n}\nexport default IntroTree\n","export default {\n  fr: {\n    reset: \"R√©initialiser\",\n    first_player: \"Premier Joueur\",\n    second_player: \"Second Joueur\",\n    show_solution: \"Afficher la solution pour\",\n    next: \"Suivant\",\n    extend: \"Etendre\",\n    retract: \"Retracter\",\n    case0: \"Regardons qui sont les enfants de cette grille\",\n    case1: \"Commen√ßons par le premier enfant\",\n    case2: \"On conna√Æt l'√©tat de cet enfant. Passons au suivant.\",\n    case3:\n      \"Tous les enfants ont √©t√© trait√©, on peut en d√©duire qui va gagner avec leur parent\",\n    case5: \"Il y a encore un enfant inconnu, allons voir son r√©sultat\",\n    case6: \"Vous avez test√© toutes les possibilit√©s\",\n    case4: {\n      intro: \"Pour cette grille le joueur \",\n      possibleActions: \"actions possibles.\",\n      winningIntro: \"Pour cette action, il y \",\n      winning: \"position gagnante\",\n      winnings: \"positions gagnantes\",\n      nullIntro: \"Parmi ces actions, il n'y a pas de gagnant, mais \",\n      null: \"position nulle\",\n      nulls: \"positions nulles\",\n      loosing: \"In those actions, there is only losing losing one\",\n    },\n    has: \"a\",\n    are: \"sont\",\n    is: \"est\",\n  },\n  en: {\n    reset: \"Reset\",\n    first_player: \"First Player\",\n    second_player: \"Second Player\",\n    show_solution: \"Show solution for\",\n    next: \"Next\",\n    extend: \"Extend\",\n    retract: \"Retract\",\n    case0: \"Let see who are the child of this element\",\n    case1: \"Let start by studying its first child\",\n    case2: \"We know the result for this child, lets continue\",\n    case3:\n      \"All children are computed, we can get the winner of the current grid\",\n    case5: \"There is a unknown child, let's comput its result\",\n    case6: \"You tested all the possibilities\",\n    case4: {\n      intro: \"For this grid, the player \",\n      possibleActions: \"possible actions.\",\n      winningIntro: \"In those actions, there\",\n      winning: \"wininning position\",\n      winnings: \"wininning positions\",\n      nullIntro: \"In those actions, there is no winning one but\",\n      null: \"null position\",\n      nulls: \"null positions\",\n      loosing: \"In those actions, there is only losing losing one\",\n    },\n    has: \"has\",\n    are: \"are\",\n    is: \"is\",\n  },\n}\n","import Game from \"./game\"\n\nconst game = new Game()\n\n// function getTree(state) {\n//   //return a tree which conatins all possibilities\n//   if (game.isFinished(state)) {\n//     return { state: state, winner: game.getWinner(state) };\n//   } else {\n//     let PossibleActions = game.actions(state);\n//     let output = { state: state };\n//     let player = game.getPlayer(state);\n//     let nulIsPossible = false;\n//     let playerWin = false;\n//     for (\n//       let actionIndex = 0;\n//       actionIndex < PossibleActions.length;\n//       actionIndex++\n//     ) {\n//       let action = PossibleActions[actionIndex];\n//       let subTree = getTree(game.play(state, action));\n//       output[action] = subTree;\n//       if (player === subTree[\"winner\"]) {\n//         playerWin = true;\n//       }\n//       if (subTree[\"winner\"] === game.NULL) {\n//         nulIsPossible = true;\n//       }\n//     }\n//     if (playerWin) {\n//       output[\"winner\"] = player;\n//     } else {\n//       if (nulIsPossible) {\n//         output[\"winner\"] = game.NULL;\n//       } else {\n//         output[\"winner\"] = game.getAdversary(player);\n//       }\n//     }\n//     return output;\n//   }\n// }\n\n// function getTreeEco(state) {\n//   //return a tree which stop after findin an winnig acction for the cureent player\n//   if (game.isFinished(state)) {\n//     return { state: state, winner: game.getWinner(state) };\n//   } else {\n//     let PossibleActions = game.actions(state);\n//     let output = { state: state };\n//     let player = game.getPlayer(state);\n//     let nulIsPossible = false;\n//     let playerWin = false;\n//     for (\n//       let actionIndex = 0;\n//       actionIndex < PossibleActions.length;\n//       actionIndex++\n//     ) {\n//       let action = PossibleActions[actionIndex];\n//       let subTree = getTree(game.play(state, action));\n//       output[action] = subTree;\n//       if (player === subTree[\"winner\"]) {\n//         playerWin = true;\n//         output[\"winner\"] = player;\n//         return output;\n//       }\n//       if (subTree[\"winner\"] === game.NULL) {\n//         nulIsPossible = true;\n//       }\n//     }\n//     if (playerWin) {\n//       output[\"winner\"] = player;\n//     } else {\n//       if (nulIsPossible) {\n//         output[\"winner\"] = game.NULL;\n//       } else {\n//         output[\"winner\"] = game.getAdversary(player);\n//       }\n//     }\n//     return output;\n//   }\n// }\n\nfunction feelSolutions(solution, state, curentPlayer, robot) {\n  // feel the object solution with\n  // entry: a grid\n  // output: the winer, how win after each action, and the number of leaf needed for the computation\n  let winner\n  let posibilities = []\n  let player = game.PLAYERS[curentPlayer]\n  let adversary = game.PLAYERS[(1 + curentPlayer) % 2]\n\n  if (solution[state] === undefined) {\n    solution[state] = {\n      ends: state,\n      curentPlayer: curentPlayer,\n      winner: \"\",\n      timeToWin: null,\n    }\n  }\n\n  if (game.getWinner(state) !== game.UNKNOW) {\n    winner = game.getWinner(state).toLowerCase()\n    solution[state].winner = winner\n    solution[state].timeToWin = 1\n    solution[state].final = true\n    return { winner: winner, timeToWin: 1 }\n  }\n\n  for (let action = 0; action < 9; action++) {\n    if (solution[state].ends[action] === game.EMPTY) {\n      //We don't know the issue of this action\n      let newState =\n        state.substring(0, action) + player + state.substring(action + 1)\n\n      let winner\n      let timeToWin\n      let result\n      if (\n        solution[newState] !== undefined &&\n        solution[newState].winner !== \"\"\n      ) {\n        //we already now the solution\n        winner = solution[newState].winner\n        timeToWin = solution[newState].timeToWin\n      } else {\n        result = feelSolutions(\n          solution,\n          newState,\n          (curentPlayer + 1) % 2,\n          robot\n        )\n        winner = result.winner\n        timeToWin = result.timeToWin\n      }\n\n      //We know who will win if current player play this action\n      solution[state].ends =\n        solution[state].ends.substring(0, action) +\n        winner +\n        solution[state].ends.substring(action + 1)\n\n      posibilities.push({ winner, timeToWin })\n    }\n  }\n\n  let minTimeToWin\n  if (posibilities.map(x => x.winner).includes(player.toLowerCase())) {\n    minTimeToWin = Math.min(\n      ...posibilities\n        .map(x => (x.winner === player.toLowerCase() ? x.timeToWin : null))\n        .filter(x => x !== null)\n    )\n    winner = player.toLowerCase()\n  } else {\n    if (posibilities.map(x => x.winner).includes(game.NULL)) {\n      minTimeToWin = Math.min(\n        ...posibilities\n          .map(x => (x.winner === game.NULL ? x.timeToWin : null))\n          .filter(x => x !== null)\n      )\n      winner = game.NULL\n    } else {\n      if (posibilities.map(x => x.winner).includes(adversary.toLowerCase())) {\n        minTimeToWin = Math.min(\n          ...posibilities\n            .map(x =>\n              x.winner === adversary.toLowerCase() ? x.timeToWin : null\n            )\n            .filter(x => x !== null)\n        )\n        winner = adversary.toLowerCase()\n      }\n    }\n  }\n\n  solution[state].winner = winner\n  if (curentPlayer === robot) {\n    solution[state].timeToWin = minTimeToWin\n  } else {\n    solution[state].timeToWin = posibilities\n      .map(x => x.timeToWin)\n      .reduce((total, x) => total + x)\n  }\n  return {\n    winner: solution[state].winner,\n    timeToWin: solution[state].timeToWin,\n  }\n}\n\n// function opimalTree(tree, state, curentPlayer, robot, origineX, origineY) {\n//   //return the minimal tree (in size) that prove robot will obtain at least a null match\n//   if (tree[state].final) {\n//     return [{ state, X: origineX, Y: origineY, winner: tree[state].winner }];\n//   }\n//   let player = game.PLAYERS[curentPlayer];\n\n//   if (curentPlayer === robot) {\n//     for (let action = 0; action < 9; action++) {\n//       if (state[action] === \".\") {\n//         let newState =\n//           state.substring(0, action) + player + state.substring(action + 1);\n//         if (\n//           tree[state].timeToWin === tree[newState].timeToWin &&\n//           tree[state].winner === tree[newState].winner\n//         ) {\n//           return [\n//             { state, X: origineX, Y: origineY, winner: tree[state].winner },\n//             ...opimalTree(\n//               tree,\n//               newState,\n//               (curentPlayer + 1) % 2,\n//               robot,\n//               origineX + 1,\n//               origineY\n//             )\n//           ];\n//         }\n//       }\n//     }\n//   } else {\n//     let output = [\n//       { state, X: origineX, Y: origineY, winner: tree[state].winner }\n//     ];\n//     for (let action = 0; action < 9; action++) {\n//       if (state[action] === \".\") {\n//         let newState =\n//           state.substring(0, action) + player + state.substring(action + 1);\n//         let subTree = opimalTree(\n//           tree,\n//           newState,\n//           (curentPlayer + 1) % 2,\n//           robot,\n//           origineX + 1,\n//           origineY\n//         );\n//         output = [...output, ...subTree];\n//         origineY = subTree[subTree.length - 1].Y + 1;\n//       }\n//     }\n//     return output;\n//   }\n// }\n\nfunction treeToPosition(tree) {\n  let height = 0\n  let currentIndexList = []\n  let currentActionsList = []\n  let id = currentActionsList.join(\"\")\n  let currentState = tree[id]\n  let goingBack = false\n\n  let output = []\n  output.push({\n    ...currentState,\n    x: currentActionsList.length,\n    y: height,\n    id: id,\n  })\n\n  let parent_position = [[0, 0]]\n  if (currentState.childrenActions.length > 0) {\n    currentIndexList.push(0)\n    currentActionsList.push(currentState.childrenActions[0])\n    currentState = tree[currentActionsList.join(\"\")]\n  }\n\n  while (currentIndexList.length > 0) {\n    currentActionsList = []\n    for (let i = 0; i < currentIndexList.length; i++) {\n      currentActionsList.push(\n        tree[currentActionsList.join(\"\")].childrenActions[currentIndexList[i]]\n      )\n    }\n    let id = currentActionsList.join(\"\")\n    currentState = tree[id]\n\n    if (!goingBack) {\n      //en mode forward on affiche les noeuds\n      output.push({\n        ...currentState,\n        x: currentActionsList.length,\n        y: height,\n        id: id,\n        parent: parent_position[parent_position.length - 1],\n      })\n      parent_position.push([currentActionsList.length, height])\n\n      if (currentState.childrenActions.length > 0) {\n        //si il y a des fils, on y va\n        currentIndexList.push(0)\n      } else {\n        //si non, on verifie la presence de voisins\n        currentState = tree[currentActionsList.slice(0, -1).join(\"\")]\n        parent_position.pop()\n\n        currentIndexList[currentIndexList.length - 1] =\n          currentIndexList[currentIndexList.length - 1] + 1\n      }\n    } else {\n      //en mode back, on considere\n      currentState = tree[currentActionsList.slice(0, -1).join(\"\")]\n\n      parent_position.pop()\n\n      currentIndexList[currentIndexList.length - 1] =\n        currentIndexList[currentIndexList.length - 1] + 1\n    }\n\n    if (\n      currentIndexList[currentIndexList.length - 1] >=\n        currentState.childrenActions.length ||\n      currentState.retracted\n    ) {\n      //si il n'y a plus d'enfant ou qu'on nous demande de ne pas les traiter\n      currentIndexList.pop()\n      goingBack = true\n    } else {\n      if (currentIndexList[currentIndexList.length - 1] !== 0) {\n        height += 1\n      }\n      goingBack = false\n    }\n  }\n  return output\n}\n\nfunction reduceToOpimalTree(tree, treeToFeel, id, grid, curentPlayer, robot) {\n  //return the minimal tree (in size) that prove robot will obtain at least a null match\n  if (game.isFinished(grid)) {\n    treeToFeel[id] = {\n      grid: grid,\n      ends: grid,\n      childrenActions: [],\n      timeToWin: tree[grid].timeToWin,\n      winner: tree[grid].winner,\n    }\n  } else {\n    const actions = game.actions(grid)\n\n    if (curentPlayer === robot) {\n      let bestAction\n      let newGrid\n      let minimalTimeToWin = 1000000\n\n      actions.forEach(action => {\n        newGrid = game.play(grid, action)\n        if (\n          tree[newGrid].timeToWin < minimalTimeToWin &&\n          tree[newGrid].winner === tree[grid].winner\n        ) {\n          minimalTimeToWin = tree[newGrid].timeToWin\n          bestAction = action\n        }\n      })\n      treeToFeel[id] = {\n        grid: grid,\n        ends: tree[grid].ends,\n        childrenActions: [bestAction],\n        timeToWin: tree[grid].timeToWin,\n        winner: tree[grid].winner,\n      }\n      reduceToOpimalTree(\n        tree,\n        treeToFeel,\n        id + bestAction,\n        game.play(grid, bestAction),\n        (curentPlayer + 1) % 2,\n        robot\n      )\n    } else {\n      treeToFeel[id] = {\n        grid: grid,\n        ends: tree[grid].ends,\n        childrenActions: actions,\n        timeToWin: tree[grid].timeToWin,\n        winner: tree[grid].winner,\n      }\n      actions.forEach(action => {\n        reduceToOpimalTree(\n          tree,\n          treeToFeel,\n          id + action,\n          game.play(grid, action),\n          (curentPlayer + 1) % 2,\n          robot\n        )\n      })\n    }\n  }\n}\n\nlet completTree = {}\nfeelSolutions(completTree, \".........\", 0, 2)\n\nfunction perfectPlayer(state) {\n  let solutions = completTree[state].ends\n  let victory = completTree[state].winner\n  let player = game.getPlayer(state)\n\n  let actions = []\n  if (victory === player.toLowerCase()) {\n    let nextGrid\n    let score\n    let bestScore = 0\n    for (let i = 0; i < 9; i++) {\n      if (solutions[i] === victory) {\n        nextGrid = completTree[game.play(state, i)].ends\n        score = nextGrid.split(\"\").filter(x => x === player.toLowerCase())\n          .length\n        if (score > bestScore) {\n          actions = [i]\n        } else if (score === bestScore) {\n          actions.push(i)\n        }\n      }\n    }\n  } else if (victory === game.NULL) {\n    for (let i = 0; i < 9; i++) {\n      if (solutions[i] === game.NULL) {\n        actions.push(i)\n      }\n    }\n  } else {\n    for (let i = 0; i < 9; i++) {\n      if (state[i] === game.EMPTY) {\n        actions.push(i)\n      }\n    }\n  }\n\n  let action = actions[Math.floor(actions.length * Math.random())]\n  return action\n}\n\nexport {\n  completTree,\n  perfectPlayer,\n  treeToPosition,\n  feelSolutions,\n  reduceToOpimalTree,\n}\n"],"sourceRoot":""}