(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DCNC:function(e,t,a){var n=a("P8UN");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},ShpQ:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("Bl7J"),c=a("vrFN"),o=(a("YbXK"),a("cFtU"),a("q8oJ"),a("m210"),a("4DPX"),a("rzGZ"),a("Dq+y"),a("8npG"),a("YBKJ"),a("DCNC"),a("i20g")),s=a.n(o);function u(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(e){var t=e.status,a=Object(n.useState)(!1),l=a[0],c=a[1];switch(Object(n.useEffect)((function(){t&&c(!0)}),[t]),t){case"OK":return r.a.createElement("div",{className:s.a.cat+" "+(l?s.a.init:s.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat in love"},"😻"));case"KO":return r.a.createElement("div",{className:s.a.cat+" "+(l?s.a.init:s.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"🙀"));default:return r.a.createElement("div",{className:s.a.cat+" "+(l?s.a.init:s.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat waiting for food"},"😺"))}},m=function(e){var t=e.status,a=e.color;switch(t){case"OK":return r.a.createElement("div",{className:s.a.seenCats,style:{backgroundColor:a}},r.a.createElement("span",{role:"img","aria-label":"cat in love"},"😻"));case"KO":return r.a.createElement("div",{className:s.a.seenCats,style:{backgroundColor:a}},r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"🙀"))}},d=function(e){var t=e.nbOK,a=e.nbKO,n=e.color;return r.a.createElement("table",{style:{backgroundColor:n},className:s.a.stats},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"cat in love"},"😻")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"🙀"))),r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a)),r.a.createElement("tr",null,t+a===0?r.a.createElement("td",{colSpan:2},"No stats"):r.a.createElement("div",null,r.a.createElement("td",null,Math.round(100*(t/(t+a)+Number.EPSILON))||Math.round(1e4*(t/(t+a)+Number.EPSILON))/100,"%"),r.a.createElement("td",null,Math.round(100*(a/(t+a)+Number.EPSILON))||Math.round(1e4*(a/(t+a)+Number.EPSILON))/100,"%")))))},b=function(e,t,a){return e.filter((function(e){var n=e.status,r=e.foodIndex;return n===t&&r===a})).length},E=function(e){var t=e.results,a=e.colors;return r.a.createElement("div",null,r.a.createElement("div",{className:s.a.resultsContainer},t.map((function(e){var t=e.id,n=e.status,l=e.foodIndex;return r.a.createElement(m,{key:t,status:n,color:a[l]})}))),r.a.createElement("div",{className:s.a.statsContainer},r.a.createElement(d,{nbOK:b(t,"OK",0),nbKO:b(t,"KO",0),color:a[0]}),r.a.createElement(d,{nbOK:b(t,"OK",1),nbKO:b(t,"KO",1),color:a[1]})))},f=function(e){var t=e.catNumber,a=e.probaHappy,l=e.buttonsColor,c=Object(n.useState)(u(Array(t).keys()).map((function(e){return{id:e,status:""}}))),o=c[0],m=c[1],d=Object(n.useRef)(!1),b=Object(n.useState)([]),f=b[0],p=b[1],O=Object(n.useCallback)((function(e,t){clearTimeout(d.current);var n=t.filter((function(e){return"KO"!==e.status&&"OK"!==e.status})),r=n[0],l=n.slice(1);if(r){var c=Math.random()<=a[e]?"OK":"KO";m([{id:r.id,status:c}].concat(u(l))),p((function(t){return[].concat(u(t),[{id:r.id,status:c,foodIndex:e}])})),d.current=setTimeout((function(){m(l)}),1e3)}}),[d,a,m,p]);return r.a.createElement("div",null,r.a.createElement("p",{className:s.a.catList},o.map((function(e){var t=e.id,a=e.status;return r.a.createElement(i,{key:t,status:a})}))),r.a.createElement("div",{className:s.a.foodOptions},r.a.createElement("button",{onClick:function(){return O(0)},style:{backgroundColor:l[0]}},"🐟"),r.a.createElement("button",{onClick:function(){return O(1)},style:{backgroundColor:l[1]}},"🍖")),r.a.createElement(E,{results:f,colors:l}))};t.default=function(){return r.a.createElement(l.a,{location:"/multy-arm-bandits",currentLanguage:"Français"},r.a.createElement(c.a,{title:"Comment choisir son repas"}),r.a.createElement("h1",null,"Comment choisir son repas"),r.a.createElement(f,{catNumber:200,probaHappy:[.7,.4],buttonsColor:["blue","red"]}))}}}]);
//# sourceMappingURL=component---src-pages-multy-arm-bandits-fr-js-5118da3db5a66dbf4022.js.map