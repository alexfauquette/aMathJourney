(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FkfF:function(e,t,n){"use strict";n("HQhv");var i=n("q1tI"),r=n.n(i),a=n("adID"),o=n.n(a),s=function(e){var t=e.width,n=e.height,i=e.state,a=e.winner,s=e.solution,l=e.transform,c=e.localAction,u=e.globalAction,h=e.victory,f=e.addedIndex;return r.a.createElement("g",{className:o.a.board+" "+o.a.winner+" "+(u?o.a.pointerClickable:""),transform:l,onClick:u?u():void 0},r.a.createElement("rect",{x:0,y:0,width:t,height:n,className:""+(a?"x"===a.toLowerCase()?o.a.winnerX:"o"===a.toLowerCase()?o.a.winnerO:"."===a.toLowerCase()?o.a.winnerUnKnoned:"n"===a.toLowerCase()?o.a.winnerNull:"n"===a.toLowerCase()?o.a.winnerSelected:"":"")}),r.a.createElement("g",{className:o.a.elements},i.split("").map((function(e,i){var a=t/6+Math.floor(i%3)*t/3,l=n/6+Math.floor(i/3)*n/3;switch(e){case"X":return r.a.createElement("g",{key:i,className:o.a.X+" "+(f===i?o.a.justAdded:"")},r.a.createElement("line",{x1:a-.4*t/3,y1:l-.4*n/3,x2:a+.4*t/3,y2:l+.4*n/3}),r.a.createElement("line",{x1:a+.4*t/3,y1:l-.4*n/3,x2:a-.4*t/3,y2:l+.4*n/3}));case"O":return r.a.createElement("g",{key:i,className:o.a.O+" "+(f===i?o.a.justAdded:"")},r.a.createElement("circle",{r:.4*Math.min(t,n)/3,cx:a,cy:l}));default:return r.a.createElement("rect",{key:i,x:a-.4*t/3,y:l-.4*n/3,width:.8*t/3,height:.8*n/3,className:(s&&("x"===s[i]?o.a.solutionX:"o"===s[i]?o.a.solutionO:"."===s[i]?o.a.solutionUnKnoned:"n"===s[i]?o.a.solutionNull:"n"===s[i]?o.a.solutionSelected:o.a.empty))+" "+(!s&&c?o.a.clickable:"")+" ",onClick:c?c(i):void 0})}}))),r.a.createElement("g",{className:o.a.grid},r.a.createElement("line",{x1:1*t/3,y1:"0",x2:1*t/3,y2:n}),r.a.createElement("line",{x1:2*t/3,y1:"0",x2:2*t/3,y2:n}),r.a.createElement("line",{x1:"0",y1:1*n/3,x2:t,y2:1*n/3}),r.a.createElement("line",{x1:"0",y1:2*n/3,x2:t,y2:2*n/3})),h&&2===h.length&&r.a.createElement("line",{x1:t/6+t*h[1].col/3,y1:n/6+n*h[1].line/3,x2:t/6+t*h[0].col/3,y2:n/6+n*h[0].line/3,className:o.a.winningLine}))};t.a=s},LR3c:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),r=n.n(i),a=n("Wbzz"),o=n("Bl7J"),s=n("vrFN"),l=n("ckL+");t.default=function(){return r.a.createElement(o.a,{location:"/tic-tac-toe/second-player-tree"},r.a.createElement(s.a,{title:"Morpion"}),r.a.createElement("p",null,"This web page expose the tree of possibilities at tic-tac-toe for the first player against a specific AI. You can find explanations about the tree and the AI algorithm in"," ",r.a.createElement(a.Link,{to:"/tic-tac-toe/fr"},"the related article"),"."),r.a.createElement("noscript",null,"You need to enable JavaScript to run this app."),r.a.createElement(l.a,{robot:1}))}},UxJq:function(e,t,n){"use strict";var i=n("q1tI"),r=n.n(i),a=function(e){var t=e.x0,n=e.y0,i=e.x1,a=e.y1;return r.a.createElement("path",{style:{stroke:"var(--gray-700)",strokeWidth:3,fill:"none"},d:"M"+t+" "+n+" H"+(i+t)/2+" V"+a+" H"+i})};t.a=a},WYMk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){this.PLAYERS=["X","O"],this.NULL="n",this.EMPTY=".",this.UNKNOW="?"}var t=e.prototype;return t.actions=function(e){for(var t=[],n=0;n<9;n++)"."===e[n]&&t.push(n);return t},t.getPlayerID=function(e){if(9===e.length){for(var t=0,n=0;n<9;n++)"."!==e[n]&&t++;return t%2}return 1===e.length?this.PLAYERS.indexOf(e):null},t.getPlayer=function(e){return this.PLAYERS[this.getPlayerID(e)]},t.getAdversary=function(e){return e===this.PLAYERS[0]?this.PLAYERS[1]:e===this.PLAYERS[1]?this.PLAYERS[0]:void 0},t.play=function(e,t){var n=this.getPlayer(e);return e.substring(0,t)+n+e.substring(t+1)},t.isFull=function(e){for(var t=0;t<9;t++)if("."===e[t])return!1;return!0},t.isFinished=function(e){for(var t=0;t<3;t++){if(e[3*t]===e[3*t+1]&&e[3*t+1]===e[3*t+2]&&e[3*t]!==this.EMPTY)return!0;if(e[t]===e[3+t]&&e[3+t]===e[6+t]&&e[t]!==this.EMPTY)return!0}return e[0]===e[4]&&e[4]===e[8]&&e[0]!==this.EMPTY||(e[2]===e[4]&&e[4]===e[6]&&e[2]!==this.EMPTY||this.isFull(e))},t.getWinner=function(e){for(var t=0;t<3;t++){if(e[3*t]===e[3*t+1]&&e[3*t+1]===e[3*t+2]&&e[3*t]!==this.EMPTY)return e[3*t];if(e[t]===e[3+t]&&e[3+t]===e[6+t]&&e[t]!==this.EMPTY)return e[t]}return e[0]===e[4]&&e[4]===e[8]&&e[0]!==this.EMPTY?e[0]:e[2]===e[4]&&e[4]===e[6]&&e[2]!==this.EMPTY?e[2]:this.isFull(e)?this.NULL:this.UNKNOW},t.getVictory=function(e){for(var t=0;t<3;t++){if(e[3*t]===e[3*t+1]&&e[3*t+1]===e[3*t+2]&&e[3*t]!==this.EMPTY)return[{col:0,line:t},{col:2,line:t}];if(e[t]===e[3+t]&&e[3+t]===e[6+t]&&e[t]!==this.EMPTY)return[{col:t,line:0},{col:t,line:2}]}return e[0]===e[4]&&e[4]===e[8]&&e[0]!==this.EMPTY?[{col:0,line:0},{col:2,line:2}]:e[2]===e[4]&&e[4]===e[6]&&e[2]!==this.EMPTY?[{col:2,line:0},{col:0,line:2}]:[]},e}()},"ckL+":function(e,t,n){"use strict";n("E5k/");var i=n("q1tI"),r=n.n(i),a=n("FkfF"),o=n("WYMk"),s=n("UxJq"),l=n("tyHl");var c=new o.a,u=function(e){var t,n;function i(t){var n;n=e.call(this,t)||this;var i={};Object(l.b)(i,".........",0,t.robot);var r={};return Object(l.d)(i,r,"",".........",0,t.robot),n.state={robot:t.robot,tree:r,initialTree:r,height:r[""].timeToWin,heightLimited:!0},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.toogleChildrens=function(e){var t=this;return function(){return function(){var n;t.setState({tree:Object.assign({},t.state.tree,(n={},n[e]=Object.assign({},t.state.tree[e],{retracted:!t.state.tree[e].retracted}),n))})}}},o.reset=function(){var e=this;return function(){e.setState(Object.assign({},e.state,{tree:e.state.initialTree}))}},o.toogleHeightLimited=function(){var e=this;return function(){e.setState(Object.assign({},e.state,{heightLimited:!e.state.heightLimited}))}},o.render=function(){var e=this,t=Object(l.e)(this.state.tree),n=t.reduce((function(e,t){return Math.max(e,t.y)}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.state.heightLimited?"limit-height":"free-height"},r.a.createElement("svg",{viewBox:"0 0 1000 "+100*(n+1),style:{width:"100%"}},t.map((function(t){return r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement(a.a,{width:75,height:75,state:t.grid,transform:"translate("+(12+100*t.x)+","+(12+100*t.y)+")",globalAction:e.toogleChildrens(t.id),winner:t.winner,victory:c.getVictory(t.grid),addedIndex:t.id&&parseInt(t.id.charAt(t.id.length-1))}),t.parent&&r.a.createElement(s.a,{x0:14+100*t.parent[0]+75,y0:12+100*t.parent[1]+37.5,x1:10+100*t.x,y1:12+100*t.y+37.5}))})))),100*(n+1)>500&&r.a.createElement("button",{onClick:this.toogleHeightLimited(),className:"treeExtension"},this.state.heightLimited?"Extend":"Retract"),r.a.createElement("button",{onClick:this.reset()},"RESET"))},i}(r.a.Component);t.a=u},tyHl:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s}));n("YbXK"),n("cFtU"),n("q8oJ"),n("8npG"),n("m210"),n("4DPX"),n("rzGZ"),n("HQhv"),n("E5k/"),n("gu/5"),n("eoYm");function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=new(n("WYMk").a);function a(e,t,n,o){var s,l,c=[],u=r.PLAYERS[n],h=r.PLAYERS[(1+n)%2];if(void 0===e[t]&&(e[t]={ends:t,curentPlayer:n,winner:"",timeToWin:null}),r.getWinner(t)!==r.UNKNOW)return s=r.getWinner(t).toLowerCase(),e[t].winner=s,e[t].timeToWin=1,e[t].final=!0,{winner:s,timeToWin:1};for(var f=0;f<9;f++)if(e[t].ends[f]===r.EMPTY){var d=t.substring(0,f)+u+t.substring(f+1),m=void 0,g=void 0,p=void 0;void 0!==e[d]&&""!==e[d].winner?(m=e[d].winner,g=e[d].timeToWin):(m=(p=a(e,d,(n+1)%2,o)).winner,g=p.timeToWin),e[t].ends=e[t].ends.substring(0,f)+m+e[t].ends.substring(f+1),c.push({winner:m,timeToWin:g})}return c.map((function(e){return e.winner})).includes(u.toLowerCase())?(l=Math.min.apply(Math,i(c.map((function(e){return e.winner===u.toLowerCase()?e.timeToWin:null})).filter((function(e){return null!==e})))),s=u.toLowerCase()):c.map((function(e){return e.winner})).includes(r.NULL)?(l=Math.min.apply(Math,i(c.map((function(e){return e.winner===r.NULL?e.timeToWin:null})).filter((function(e){return null!==e})))),s=r.NULL):c.map((function(e){return e.winner})).includes(h.toLowerCase())&&(l=Math.min.apply(Math,i(c.map((function(e){return e.winner===h.toLowerCase()?e.timeToWin:null})).filter((function(e){return null!==e})))),s=h.toLowerCase()),e[t].winner=s,e[t].timeToWin=n===o?l:c.map((function(e){return e.timeToWin})).reduce((function(e,t){return e+t})),{winner:e[t].winner,timeToWin:e[t].timeToWin}}function o(e){var t=0,n=[],i=[],r=i.join(""),a=e[r],o=!1,s=[];s.push(Object.assign({},a,{x:i.length,y:t,id:r}));var l=[[0,0]];for(a.childrenActions.length>0&&(n.push(0),i.push(a.childrenActions[0]),a=e[i.join("")]);n.length>0;){i=[];for(var c=0;c<n.length;c++)i.push(e[i.join("")].childrenActions[n[c]]);var u=i.join("");a=e[u],o?(a=e[i.slice(0,-1).join("")],l.pop(),n[n.length-1]=n[n.length-1]+1):(s.push(Object.assign({},a,{x:i.length,y:t,id:u,parent:l[l.length-1]})),l.push([i.length,t]),a.childrenActions.length>0?n.push(0):(a=e[i.slice(0,-1).join("")],l.pop(),n[n.length-1]=n[n.length-1]+1)),n[n.length-1]>=a.childrenActions.length||a.retracted?(n.pop(),o=!0):(0!==n[n.length-1]&&(t+=1),o=!1)}return s}function s(e,t,n,i,a,o){if(r.isFinished(i))t[n]={grid:i,ends:i,childrenActions:[],timeToWin:e[i].timeToWin,winner:e[i].winner};else{var l=r.actions(i);if(a===o){var c,u,h=1e6;l.forEach((function(t){u=r.play(i,t),e[u].timeToWin<h&&e[u].winner===e[i].winner&&(h=e[u].timeToWin,c=t)})),t[n]={grid:i,ends:e[i].ends,childrenActions:[c],timeToWin:e[i].timeToWin,winner:e[i].winner},s(e,t,n+c,r.play(i,c),(a+1)%2,o)}else t[n]={grid:i,ends:e[i].ends,childrenActions:l,timeToWin:e[i].timeToWin,winner:e[i].winner},l.forEach((function(l){s(e,t,n+l,r.play(i,l),(a+1)%2,o)}))}}var l={};function c(e){var t=l[e].ends,n=l[e].winner,i=r.getPlayer(e),a=[];if(n===i.toLowerCase())for(var o,s=0;s<9;s++)t[s]===n&&((o=l[r.play(e,s)].ends.split("").filter((function(e){return e===i.toLowerCase()})).length)>0?a=[s]:0===o&&a.push(s));else if(n===r.NULL)for(var c=0;c<9;c++)t[c]===r.NULL&&a.push(c);else for(var u=0;u<9;u++)e[u]===r.EMPTY&&a.push(u);return a[Math.floor(a.length*Math.random())]}a(l,".........",0,2)}}]);
//# sourceMappingURL=component---src-pages-tic-tac-toe-second-player-tree-index-js-9059d69df0ce76c04506.js.map