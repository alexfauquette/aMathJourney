(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{ShpQ:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("Bl7J"),s=a("vrFN"),c=a("t8Zj"),o=a("i20g"),u=a.n(o),i=function(e){var t=e.status,a=Object(n.useState)(!1),l=a[0],s=a[1];switch(Object(n.useEffect)((function(){t&&s(!0)}),[t]),t){case"OK":return r.a.createElement("div",{className:u.a.cat+" "+(l?u.a.init:u.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat in love"},"ðŸ˜»"));case"KO":return r.a.createElement("div",{className:u.a.cat+" "+(l?u.a.init:u.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"ðŸ™€"));default:return r.a.createElement("div",{className:u.a.cat+" "+(l?u.a.init:u.a.notInit)},r.a.createElement("span",{role:"img","aria-label":"cat waiting for food"},"ðŸ˜º"))}},m=function(e){var t=e.status,a=e.color;switch(t){case"OK":return r.a.createElement("div",{className:u.a.seenCats,style:{backgroundColor:a}},r.a.createElement("span",{role:"img","aria-label":"cat in love"},"ðŸ˜»"));case"KO":return r.a.createElement("div",{className:u.a.seenCats,style:{backgroundColor:a}},r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"ðŸ™€"))}},d=function(e){var t=e.nbOK,a=e.nbKO,n=e.color;return r.a.createElement("table",{style:{backgroundColor:n},className:u.a.stats},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"cat in love"},"ðŸ˜»")),r.a.createElement("td",null,r.a.createElement("span",{role:"img","aria-label":"cat disgusted"},"ðŸ™€"))),r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a)),r.a.createElement("tr",null,t+a===0?r.a.createElement("td",{colSpan:2},"No stats"):r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,Math.round(100*(t/(t+a)+Number.EPSILON))||Math.round(1e4*(t/(t+a)+Number.EPSILON))/100,"%"),r.a.createElement("td",null,Math.round(100*(a/(t+a)+Number.EPSILON))||Math.round(1e4*(a/(t+a)+Number.EPSILON))/100,"%")))))},E=function(e,t,a){return e.filter((function(e){var n=e.status,r=e.foodIndex;return n===t&&r===a})).length},b=function(e){var t=e.results,a=e.colors;return r.a.createElement("div",null,r.a.createElement("div",{className:u.a.resultsContainer},t.map((function(e){var t=e.id,n=e.status,l=e.foodIndex;return r.a.createElement(m,{key:t,status:n,color:a[l]})}))),r.a.createElement("div",{className:u.a.statsContainer},r.a.createElement(d,{nbOK:E(t,"OK",0),nbKO:E(t,"KO",0),color:a[0]}),r.a.createElement(d,{nbOK:E(t,"OK",1),nbKO:E(t,"KO",1),color:a[1]})))},f=function(e){var t,a=e.catNumber,l=e.probaHappy,s=e.buttonsColor,o=Object(n.useState)((t=a,Object(c.a)(Array(t).keys()).map((function(e){return{id:e,status:""}})))),m=o[0],d=o[1],E=Object(n.useRef)(!1),f=Object(n.useState)([]),O=f[0],p=f[1],v=Object(n.useCallback)((function(e,t){clearTimeout(E.current);var a=t.filter((function(e){return"KO"!==e.status&&"OK"!==e.status})),n=a[0],r=a.slice(1);if(n){var s=Math.random()<=l[e]?"OK":"KO";d([{id:n.id,status:s}].concat(Object(c.a)(r))),p((function(t){return[].concat(Object(c.a)(t),[{id:n.id,status:s,foodIndex:e}])})),E.current=setTimeout((function(){d(r)}),1e3)}}),[E,l,d,p]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:u.a.catList},m.map((function(e){var t=e.id,a=e.status;return r.a.createElement(i,{key:t,status:a})})))),r.a.createElement("div",{className:u.a.foodOptions},r.a.createElement("button",{onClick:function(){return v(0,m)},style:{backgroundColor:s[0]}},"ðŸŸ"),r.a.createElement("button",{onClick:function(){return v(1,m)},style:{backgroundColor:s[1]}},"ðŸ–")),r.a.createElement(b,{results:O,colors:s}))};t.default=function(){return r.a.createElement(l.a,{location:"/multy-arm-bandits",currentLanguage:"FranÃ§ais"},r.a.createElement(s.a,{title:"Comment choisir son repas"}),r.a.createElement("h1",null,"Comment choisir son repas"),r.a.createElement(f,{catNumber:200,probaHappy:[.7,.4],buttonsColor:["blue","red"]}))}},i20g:function(e,t,a){e.exports={catList:"style-module--catList--Zyld7",cat:"style-module--cat--dn_qY",init:"style-module--init--1t4o3",notInit:"style-module--notInit--3SBMK",foodOptions:"style-module--foodOptions--2eTHV",resultsContainer:"style-module--resultsContainer--3SkOS",seenCats:"style-module--seenCats--1DnEs",catAppear:"style-module--catAppear--2_prO",statsContainer:"style-module--statsContainer--2UM0k",stats:"style-module--stats--3xY57"}}}]);
//# sourceMappingURL=component---src-pages-multy-arm-bandits-fr-js-f8d76f29e21bf9a67f33.js.map